:py:mod:`owlapy.converter`
==========================

.. py:module:: owlapy.converter

.. autoapi-nested-parse::

   Format converter.



Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   owlapy.converter.VariablesMapping
   owlapy.converter.Owl2SparqlConverter



Functions
~~~~~~~~~

.. autoapisummary::

   owlapy.converter.peek
   owlapy.converter.owl_expression_to_sparql



Attributes
~~~~~~~~~~

.. autoapisummary::

   owlapy.converter.converter


.. py:function:: peek(x)

   Peek the last element of an array.

   :returns: The last element arr[-1].


.. py:class:: VariablesMapping


   Helper class for owl-to-sparql conversion.

   .. py:attribute:: __slots__
      :value: ('class_cnt', 'prop_cnt', 'ind_cnt', 'dict')

      

   .. py:method:: get_variable(e: owlapy.owl_object.OWLEntity) -> str


   .. py:method:: new_individual_variable() -> str


   .. py:method:: new_property_variable() -> str


   .. py:method:: __contains__(item: owlapy.owl_object.OWLEntity) -> bool


   .. py:method:: __getitem__(item: owlapy.owl_object.OWLEntity) -> str



.. py:class:: Owl2SparqlConverter


   Convert owl (owlapy model class expressions) to SPARQL.

   .. py:property:: modal_depth


   .. py:property:: current_variable


   .. py:attribute:: __slots__
      :value: ('ce', 'sparql', 'variables', 'parent', 'parent_var', 'properties', 'variable_entities', 'cnt',...

      

   .. py:attribute:: ce
      :type: owlapy.class_expression.OWLClassExpression

      

   .. py:attribute:: sparql
      :type: List[str]

      

   .. py:attribute:: variables
      :type: List[str]

      

   .. py:attribute:: parent
      :type: List[owlapy.class_expression.OWLClassExpression]

      

   .. py:attribute:: parent_var
      :type: List[str]

      

   .. py:attribute:: variable_entities
      :type: Set[owlapy.owl_object.OWLEntity]

      

   .. py:attribute:: properties
      :type: Dict[int, List[owlapy.owl_object.OWLEntity]]

      

   .. py:attribute:: mapping
      :type: VariablesMapping

      

   .. py:attribute:: grouping_vars
      :type: Dict[owlapy.class_expression.OWLClassExpression, Set[str]]

      

   .. py:attribute:: having_conditions
      :type: Dict[owlapy.class_expression.OWLClassExpression, Set[str]]

      

   .. py:attribute:: cnt
      :type: int

      

   .. py:attribute:: for_all_de_morgan
      :type: bool

      

   .. py:attribute:: named_individuals
      :type: bool

      

   .. py:method:: convert(root_variable: str, ce: owlapy.class_expression.OWLClassExpression, for_all_de_morgan: bool = True, named_individuals: bool = False)

      Used to convert owl class expression to SPARQL syntax.

      :param root_variable: Root variable name that will be used in SPARQL query.
      :type root_variable: str
      :param ce: The owl class expression to convert.
      :type ce: OWLClassExpression
      :param named_individuals: If 'True' return only entities that are instances of owl:NamedIndividual.
      :type named_individuals: bool

      :returns: The SPARQL query.
      :rtype: list[str]


   .. py:method:: render(e)
      :abstractmethod:


   .. py:method:: stack_variable(var)


   .. py:method:: stack_parent(parent: owlapy.class_expression.OWLClassExpression)


   .. py:method:: process(ce: owlapy.class_expression.OWLClassExpression)
      :abstractmethod:


   .. py:method:: forAll(ce: owlapy.class_expression.OWLObjectAllValuesFrom)


   .. py:method:: forAllDeMorgan(ce: owlapy.class_expression.OWLObjectAllValuesFrom)


   .. py:method:: new_count_var() -> str


   .. py:method:: append_triple(subject, predicate, object_)


   .. py:method:: append(frag)


   .. py:method:: triple(subject, predicate, object_)


   .. py:method:: as_query(root_variable: str, ce: owlapy.class_expression.OWLClassExpression, for_all_de_morgan: bool = True, count: bool = False, values: Optional[Iterable[owlapy.owl_individual.OWLNamedIndividual]] = None, named_individuals: bool = False) -> str



.. py:data:: converter

   

.. py:function:: owl_expression_to_sparql(expression: owlapy.class_expression.OWLClassExpression = None, root_variable: str = '?x', values: Optional[Iterable[owlapy.owl_individual.OWLNamedIndividual]] = None, for_all_de_morgan: bool = True, named_individuals: bool = False) -> str

   Convert an OWL Class Expression (https://www.w3.org/TR/owl2-syntax/#Class_Expressions) into a SPARQL query
   root variable: the variable that will be projected
   expression: the class expression to be transformed to a SPARQL query

   values: positive or negative examples from a class expression problem. Unclear
   for_all_de_morgan: if set to True, the SPARQL mapping will use the mapping containing the nested FILTER NOT EXISTS
   patterns for the universal quantifier (¬(∃r.¬C)), instead of the counting query
   named_individuals: if set to True, the generated SPARQL query will return only entities
   that are instances of owl:NamedIndividual


