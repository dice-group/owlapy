<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>owlapy.owl_reasoner &mdash; OWLAPY 0.1.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8775fe07" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme.css?v=ea877efc" />
      <link rel="stylesheet" type="text/css" href="../../_static/theme_tweak.css?v=f0ad19f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8775fe07" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=92734c54"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            OWLAPY
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usage/main.html">About owlapy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/usage_examples.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/ontologies.html">Ontologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/reasoner.html">Reasoners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/reasoning_details.html">Reasoning Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/owlapi_adaptor.html">Owlapi Adaptor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../autoapi/owlapy/index.html">owlapy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OWLAPY</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">owlapy.owl_reasoner</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for owlapy.owl_reasoner</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;OWL Reasoner&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">operator</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">types</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABCMeta</span><span class="p">,</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">auto</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">singledispatchmethod</span><span class="p">,</span> <span class="n">reduce</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">chain</span><span class="p">,</span> <span class="n">repeat</span>
<span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">MappingProxyType</span><span class="p">,</span> <span class="n">FunctionType</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">DefaultDict</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">,</span> <span class="n">Set</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">FrozenSet</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">cast</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">import</span> <span class="nn">owlready2</span>

<span class="kn">from</span> <span class="nn">owlapy.class_expression</span> <span class="kn">import</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">OWLObjectSomeValuesFrom</span><span class="p">,</span> <span class="n">OWLObjectUnionOf</span><span class="p">,</span> \
    <span class="n">OWLObjectIntersectionOf</span><span class="p">,</span> <span class="n">OWLObjectComplementOf</span><span class="p">,</span> <span class="n">OWLObjectAllValuesFrom</span><span class="p">,</span> <span class="n">OWLObjectOneOf</span><span class="p">,</span> <span class="n">OWLObjectHasValue</span><span class="p">,</span> \
    <span class="n">OWLObjectMinCardinality</span><span class="p">,</span> <span class="n">OWLObjectMaxCardinality</span><span class="p">,</span> <span class="n">OWLObjectExactCardinality</span><span class="p">,</span> <span class="n">OWLObjectCardinalityRestriction</span><span class="p">,</span> \
    <span class="n">OWLDataSomeValuesFrom</span><span class="p">,</span> <span class="n">OWLDataOneOf</span><span class="p">,</span> <span class="n">OWLDatatypeRestriction</span><span class="p">,</span> <span class="n">OWLFacetRestriction</span><span class="p">,</span> <span class="n">OWLDataHasValue</span><span class="p">,</span> \
    <span class="n">OWLDataAllValuesFrom</span>
<span class="kn">from</span> <span class="nn">owlapy.class_expression</span> <span class="kn">import</span> <span class="n">OWLClass</span>
<span class="kn">from</span> <span class="nn">owlapy.iri</span> <span class="kn">import</span> <span class="n">IRI</span>
<span class="kn">from</span> <span class="nn">owlapy.owl_axiom</span> <span class="kn">import</span> <span class="n">OWLAxiom</span><span class="p">,</span> <span class="n">OWLSubClassOfAxiom</span>
<span class="kn">from</span> <span class="nn">owlapy.owl_data_ranges</span> <span class="kn">import</span> <span class="n">OWLDataRange</span><span class="p">,</span> <span class="n">OWLDataComplementOf</span><span class="p">,</span> <span class="n">OWLDataUnionOf</span><span class="p">,</span> <span class="n">OWLDataIntersectionOf</span>
<span class="kn">from</span> <span class="nn">owlapy.owl_datatype</span> <span class="kn">import</span> <span class="n">OWLDatatype</span>
<span class="kn">from</span> <span class="nn">owlapy.owl_ontology</span> <span class="kn">import</span> <span class="n">OWLOntology</span><span class="p">,</span> <span class="n">Ontology</span><span class="p">,</span> <span class="n">_parse_concept_to_owlapy</span><span class="p">,</span> <span class="n">ToOwlready2</span>
<span class="kn">from</span> <span class="nn">owlapy.owl_ontology_manager</span> <span class="kn">import</span> <span class="n">OntologyManager</span>
<span class="kn">from</span> <span class="nn">owlapy.owl_property</span> <span class="kn">import</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">OWLObjectInverseOf</span><span class="p">,</span> \
    <span class="n">OWLPropertyExpression</span><span class="p">,</span> <span class="n">OWLDataPropertyExpression</span>
<span class="kn">from</span> <span class="nn">owlapy.owl_individual</span> <span class="kn">import</span> <span class="n">OWLNamedIndividual</span>
<span class="kn">from</span> <span class="nn">owlapy.owl_literal</span> <span class="kn">import</span> <span class="n">OWLLiteral</span>
<span class="kn">from</span> <span class="nn">owlapy.utils</span> <span class="kn">import</span> <span class="n">LRUCache</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<div class="viewcode-block" id="OWLReasoner">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner">[docs]</a>
<span class="k">class</span> <span class="nc">OWLReasoner</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An OWLReasoner reasons over a set of axioms (the set of reasoner axioms) that is based on the imports closure of</span>
<span class="sd">    a particular ontology - the &quot;root&quot; ontology.&quot;&quot;&quot;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ontology</span><span class="p">:</span> <span class="n">OWLOntology</span><span class="p">):</span>
        <span class="k">pass</span>

<div class="viewcode-block" id="OWLReasoner.data_property_domains">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.data_property_domains">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">data_property_domains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the class expressions that are the direct or indirect domains of this property with respect to the</span>
<span class="sd">           imports closure of the root ontology.</span>

<span class="sd">        Args:</span>
<span class="sd">            pe: The property expression whose domains are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct domains should be retrieved (True), or if all domains should be retrieved</span>
<span class="sd">                (False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            :Let N = equivalent_classes(DataSomeValuesFrom(pe rdfs:Literal)). If direct is True: then if N is not</span>
<span class="sd">            empty then the return value is N, else the return value is the result of</span>
<span class="sd">            super_classes(DataSomeValuesFrom(pe rdfs:Literal), true). If direct is False: then the result of</span>
<span class="sd">            super_classes(DataSomeValuesFrom(pe rdfs:Literal), false) together with N if N is non-empty.</span>
<span class="sd">            (Note, rdfs:Literal is the top datatype).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.object_property_domains">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.object_property_domains">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">object_property_domains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the class expressions that are the direct or indirect domains of this property with respect to the</span>
<span class="sd">           imports closure of the root ontology.</span>

<span class="sd">        Args:</span>
<span class="sd">            pe: The property expression whose domains are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct domains should be retrieved (True), or if all domains should be retrieved</span>
<span class="sd">                (False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            :Let N = equivalent_classes(ObjectSomeValuesFrom(pe owl:Thing)). If direct is True: then if N is not empty</span>
<span class="sd">            then the return value is N, else the return value is the result of</span>
<span class="sd">            super_classes(ObjectSomeValuesFrom(pe owl:Thing), true). If direct is False: then the result of</span>
<span class="sd">            super_classes(ObjectSomeValuesFrom(pe owl:Thing), false) together with N if N is non-empty.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.object_property_ranges">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.object_property_ranges">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">object_property_ranges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the class expressions that are the direct or indirect ranges of this property with respect to the</span>
<span class="sd">           imports closure of the root ontology.</span>

<span class="sd">        Args:</span>
<span class="sd">            pe: The property expression whose ranges are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct ranges should be retrieved (True), or if all ranges should be retrieved</span>
<span class="sd">                (False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            :Let N = equivalent_classes(ObjectSomeValuesFrom(ObjectInverseOf(pe) owl:Thing)). If direct is True: then</span>
<span class="sd">            if N is not empty then the return value is N, else the return value is the result of</span>
<span class="sd">            super_classes(ObjectSomeValuesFrom(ObjectInverseOf(pe) owl:Thing), true). If direct is False: then</span>
<span class="sd">            the result of super_classes(ObjectSomeValuesFrom(ObjectInverseOf(pe) owl:Thing), false) together with N</span>
<span class="sd">            if N is non-empty.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.equivalent_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.equivalent_classes">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">equivalent_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the class expressions that are equivalent to the specified class expression with respect to the set of</span>
<span class="sd">        reasoner axioms.</span>

<span class="sd">        Args:</span>
<span class="sd">            ce: The class expression whose equivalent classes are to be retrieved.</span>
<span class="sd">            only_named: Whether to only retrieve named equivalent classes or also complex class expressions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All class expressions C where the root ontology imports closure entails EquivalentClasses(ce C). If ce is</span>
<span class="sd">            not a class name (i.e. it is an anonymous class expression) and there are no such classes C then there will</span>
<span class="sd">            be no result. If ce is unsatisfiable with respect to the set of reasoner axioms then  owl:Nothing, i.e. the</span>
<span class="sd">            bottom node, will be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.disjoint_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.disjoint_classes">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">disjoint_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the class expressions that are disjoint with specified class expression with respect to the set of</span>
<span class="sd">        reasoner axioms.</span>

<span class="sd">        Args:</span>
<span class="sd">            ce: The class expression whose disjoint classes are to be retrieved.</span>
<span class="sd">            only_named: Whether to only retrieve named disjoint classes or also complex class expressions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All class expressions D where the set of reasoner axioms entails EquivalentClasses(D ObjectComplementOf(ce))</span>
<span class="sd">            or StrictSubClassOf(D ObjectComplementOf(ce)).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.different_individuals">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.different_individuals">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">different_individuals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the individuals that are different from the specified individual with respect to the set of</span>
<span class="sd">        reasoner axioms.</span>

<span class="sd">        Args:</span>
<span class="sd">            ind: The individual whose different individuals are to be retrieved.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All individuals x where the set of reasoner axioms entails DifferentIndividuals(ind x).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.same_individuals">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.same_individuals">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">same_individuals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the individuals that are the same as the specified individual with respect to the set of</span>
<span class="sd">        reasoner axioms.</span>

<span class="sd">        Args:</span>
<span class="sd">            ind: The individual whose same individuals are to be retrieved.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All individuals x where the root ontology imports closure entails SameIndividual(ind x).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.equivalent_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.equivalent_object_properties">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">equivalent_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the simplified object properties that are equivalent to the specified object property with respect</span>
<span class="sd">        to the set of reasoner axioms.</span>

<span class="sd">        Args:</span>
<span class="sd">            op: The object property whose equivalent object properties are to be retrieved.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All simplified object properties e where the root ontology imports closure entails</span>
<span class="sd">            EquivalentObjectProperties(op e). If op is unsatisfiable with respect to the set of reasoner axioms</span>
<span class="sd">            then owl:bottomDataProperty will be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.equivalent_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.equivalent_data_properties">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">equivalent_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the data properties that are equivalent to the specified data property with respect to the set of</span>
<span class="sd">        reasoner axioms.</span>

<span class="sd">        Args:</span>
<span class="sd">            dp: The data property whose equivalent data properties are to be retrieved.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All data properties e where the root ontology imports closure entails EquivalentDataProperties(dp e).</span>
<span class="sd">            If dp is unsatisfiable with respect to the set of reasoner axioms then owl:bottomDataProperty will</span>
<span class="sd">            be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.data_property_values">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.data_property_values">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">data_property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="s1">&#39;OWLLiteral&#39;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the data property values for the specified individual and data property expression.</span>

<span class="sd">        Args:</span>
<span class="sd">            ind: The individual that is the subject of the data property values.</span>
<span class="sd">            pe: The data property expression whose values are to be retrieved for the specified individual.</span>
<span class="sd">            direct: Specifies if the direct values should be retrieved (True), or if all values should be retrieved</span>
<span class="sd">                (False), so that sub properties are taken into account.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A set of OWLLiterals containing literals such that for each literal l in the set, the set of reasoner</span>
<span class="sd">            axioms entails DataPropertyAssertion(pe ind l).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.object_property_values">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.object_property_values">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">object_property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the object property values for the specified individual and object property expression.</span>

<span class="sd">        Args:</span>
<span class="sd">            ind: The individual that is the subject of the object property values.</span>
<span class="sd">            pe: The object property expression whose values are to be retrieved for the specified individual.</span>
<span class="sd">            direct: Specifies if the direct values should be retrieved (True), or if all values should be retrieved</span>
<span class="sd">                (False), so that sub properties are taken into account.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The named individuals such that for each individual j, the set of reasoner axioms entails</span>
<span class="sd">            ObjectPropertyAssertion(pe ind j).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.flush">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.flush">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Flushes any changes stored in the buffer, which causes the reasoner to take into consideration the changes</span>
<span class="sd">        the current root ontology specified by the changes.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.instances">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.instances">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the individuals which are instances of the specified class expression.</span>

<span class="sd">        Args:</span>
<span class="sd">            ce: The class expression whose instances are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct instances should be retrieved (True), or if all instances should be</span>
<span class="sd">                retrieved (False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            If direct is True, each named individual j where the set of reasoner axioms entails</span>
<span class="sd">            DirectClassAssertion(ce, j). If direct is False, each named individual j where the set of reasoner axioms</span>
<span class="sd">            entails ClassAssertion(ce, j). If ce is unsatisfiable with respect to the set of reasoner axioms then</span>
<span class="sd">            nothing returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.sub_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.sub_classes">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">sub_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the set of named classes that are the strict (potentially direct) subclasses of the specified class</span>
<span class="sd">        expression with respect to the reasoner axioms.</span>

<span class="sd">        Args:</span>
<span class="sd">            ce: The class expression whose strict (direct) subclasses are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct subclasses should be retrieved (True) or if the all subclasses</span>
<span class="sd">                (descendant) classes should be retrieved (False).</span>
<span class="sd">            only_named: Whether to only retrieve named sub-classes or also complex class expressions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            If direct is True, each class C where reasoner axioms entails DirectSubClassOf(C, ce). If direct is False,</span>
<span class="sd">            each class C where reasoner axioms entails StrictSubClassOf(C, ce). If ce is equivalent to owl:Nothing then</span>
<span class="sd">            nothing will be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.disjoint_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.disjoint_object_properties">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">disjoint_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the simplified object properties that are disjoint with the specified object property with respect</span>
<span class="sd">        to the set of reasoner axioms.</span>

<span class="sd">        Args:</span>
<span class="sd">            op: The object property whose disjoint object properties are to be retrieved.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All simplified object properties e where the root ontology imports closure entails</span>
<span class="sd">            EquivalentObjectProperties(e ObjectPropertyComplementOf(op)) or</span>
<span class="sd">            StrictSubObjectPropertyOf(e ObjectPropertyComplementOf(op)).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.disjoint_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.disjoint_data_properties">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">disjoint_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the data properties that are disjoint with the specified data property with respect</span>
<span class="sd">        to the set of reasoner axioms.</span>

<span class="sd">        Args:</span>
<span class="sd">            dp: The data property whose disjoint data properties are to be retrieved.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All data properties e where the root ontology imports closure entails</span>
<span class="sd">            EquivalentDataProperties(e DataPropertyComplementOf(dp)) or</span>
<span class="sd">            StrictSubDataPropertyOf(e DataPropertyComplementOf(dp)).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.sub_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.sub_data_properties">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">sub_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the set of named data properties that are the strict (potentially direct) subproperties of the</span>
<span class="sd">        specified data property expression with respect to the imports closure of the root ontology.</span>

<span class="sd">        Args:</span>
<span class="sd">            dp: The data property whose strict (direct) subproperties are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct subproperties should be retrieved (True) or if the all subproperties</span>
<span class="sd">                (descendants) should be retrieved (False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            If direct is True, each property P where the set of reasoner axioms entails DirectSubDataPropertyOf(P, pe).</span>
<span class="sd">            If direct is False, each property P where the set of reasoner axioms entails</span>
<span class="sd">            StrictSubDataPropertyOf(P, pe). If pe is equivalent to owl:bottomDataProperty then nothing will be</span>
<span class="sd">            returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.super_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.super_data_properties">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">super_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the stream of data properties that are the strict (potentially direct) super properties of the</span>
<span class="sd">         specified data property with respect to the imports closure of the root ontology.</span>

<span class="sd">         Args:</span>
<span class="sd">             dp (OWLDataProperty): The data property whose super properties are to be retrieved.</span>
<span class="sd">             direct (bool): Specifies if the direct super properties should be retrieved (True) or if the all</span>
<span class="sd">                            super properties (ancestors) should be retrieved (False).</span>

<span class="sd">         Returns:</span>
<span class="sd">             Iterable of super properties.</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.sub_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.sub_object_properties">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">sub_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the stream of simplified object property expressions that are the strict (potentially direct)</span>
<span class="sd">        subproperties of the specified object property expression with respect to the imports closure of the root</span>
<span class="sd">        ontology.</span>

<span class="sd">        Args:</span>
<span class="sd">            op: The object property expression whose strict (direct) subproperties are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct subproperties should be retrieved (True) or if the all subproperties</span>
<span class="sd">                (descendants) should be retrieved (False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            If direct is True, simplified object property expressions, such that for each simplified object property</span>
<span class="sd">            expression, P, the set of reasoner axioms entails DirectSubObjectPropertyOf(P, pe).</span>
<span class="sd">            If direct is False, simplified object property expressions, such that for each simplified object property</span>
<span class="sd">            expression, P, the set of reasoner axioms entails StrictSubObjectPropertyOf(P, pe).</span>
<span class="sd">            If pe is equivalent to owl:bottomObjectProperty then nothing will be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.super_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.super_object_properties">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">super_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the stream of object properties that are the strict (potentially direct) super properties of the</span>
<span class="sd">         specified object property with respect to the imports closure of the root ontology.</span>

<span class="sd">         Args:</span>
<span class="sd">             op (OWLObjectPropertyExpression): The object property expression whose super properties are to be</span>
<span class="sd">                                                retrieved.</span>
<span class="sd">             direct (bool): Specifies if the direct super properties should be retrieved (True) or if the all</span>
<span class="sd">                            super properties (ancestors) should be retrieved (False).</span>

<span class="sd">         Returns:</span>
<span class="sd">             Iterable of super properties.</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.types">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.types">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClass</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the named classes which are (potentially direct) types of the specified named individual.</span>

<span class="sd">        Args:</span>
<span class="sd">            ind: The individual whose types are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct types should be retrieved (True), or if all types should be retrieved</span>
<span class="sd">                (False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            If direct is True, each named class C where the set of reasoner axioms entails</span>
<span class="sd">            DirectClassAssertion(C, ind). If direct is False, each named class C where the set of reasoner axioms</span>
<span class="sd">            entails ClassAssertion(C, ind).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.get_root_ontology">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.get_root_ontology">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_root_ontology</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OWLOntology</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the &quot;root&quot; ontology that is loaded into this reasoner. The reasoner takes into account the axioms in</span>
<span class="sd">        this ontology and its import&#39;s closure.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.is_isolated">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.is_isolated">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">is_isolated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return True if this reasoner is using an isolated ontology.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OWLReasoner.super_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasoner.super_classes">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">super_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the stream of named classes that are the strict (potentially direct) super classes of the specified</span>
<span class="sd">        class expression with respect to the imports closure of the root ontology.</span>

<span class="sd">        Args:</span>
<span class="sd">            ce: The class expression whose strict (direct) super classes are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct super classes should be retrieved (True) or if the all super classes</span>
<span class="sd">                (ancestors) classes should be retrieved (False).</span>
<span class="sd">            only_named: Whether to only retrieve named super classes or also complex class expressions.</span>

<span class="sd">        Returns:</span>
<span class="sd">            If direct is True, each class C where the set of reasoner axioms entails DirectSubClassOf(ce, C).</span>
<span class="sd">            If direct is False, each class C where  set of reasoner axioms entails StrictSubClassOf(ce, C).</span>
<span class="sd">            If ce is equivalent to owl:Thing then nothing will be returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
</div>



<div class="viewcode-block" id="BaseReasoner">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.BaseReasoner">[docs]</a>
<span class="k">class</span> <span class="nc">BaseReasoner</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enumeration class for base reasoner when calling sync_reasoner.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        PELLET: Pellet base reasoner.</span>
<span class="sd">        HERMIT: HermiT base reasoner.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">PELLET</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">HERMIT</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span></div>



<div class="viewcode-block" id="OWLReasonerEx">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasonerEx">[docs]</a>
<span class="k">class</span> <span class="nc">OWLReasonerEx</span><span class="p">(</span><span class="n">OWLReasoner</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extra convenience methods for OWL Reasoners&quot;&quot;&quot;</span>

    <span class="c1"># default</span>
<div class="viewcode-block" id="OWLReasonerEx.data_property_ranges">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasonerEx.data_property_ranges">[docs]</a>
    <span class="k">def</span> <span class="nf">data_property_ranges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataRange</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the data ranges that are the direct or indirect ranges of this property with respect to the imports</span>
<span class="sd">        closure of the root ontology.</span>

<span class="sd">        Args:</span>
<span class="sd">            pe: The property expression whose ranges are to be retrieved.</span>
<span class="sd">            direct: Specifies if the direct ranges should be retrieved (True), or if all ranges should be retrieved</span>
<span class="sd">                (False).</span>

<span class="sd">        Returns:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span><span class="o">.</span><span class="n">data_property_range_axioms</span><span class="p">(</span><span class="n">pe</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_range</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">direct</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;indirect not implemented&quot;</span><span class="p">)</span></div>

                <span class="c1"># TODO:</span>

    <span class="c1"># default</span>
<div class="viewcode-block" id="OWLReasonerEx.all_data_property_values">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasonerEx.all_data_property_values">[docs]</a>
    <span class="k">def</span> <span class="nf">all_data_property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLLiteral</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all values for the given data property expression that appear in the knowledge base.</span>

<span class="sd">        Args:</span>
<span class="sd">            pe: The data property expression whose values are to be retrieved</span>
<span class="sd">            direct: Specifies if only the direct values of the data property pe should be retrieved (True), or if</span>
<span class="sd">                    the values of sub properties of pe should be taken into account (False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A set of OWLLiterals containing literals such that for each literal l in the set, the set of reasoner</span>
<span class="sd">            axioms entails DataPropertyAssertion(pe ind l) for any ind.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">onto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">onto</span><span class="o">.</span><span class="n">individuals_in_signature</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">lit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">data_property_values</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">lit</span></div>


    <span class="c1"># default</span>
<div class="viewcode-block" id="OWLReasonerEx.ind_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasonerEx.ind_data_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">ind_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all data properties for the given individual that appear in the knowledge base.</span>

<span class="sd">        Args:</span>
<span class="sd">            ind: The named individual whose data properties are to be retrieved</span>
<span class="sd">            direct: Specifies if the direct data properties should be retrieved (True), or if all</span>
<span class="sd">                data properties should be retrieved (False), so that sub properties are taken into account.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All data properties pe where the set of reasoner axioms entails DataPropertyAssertion(pe ind l)</span>
<span class="sd">            for atleast one l.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">onto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">dp</span> <span class="ow">in</span> <span class="n">onto</span><span class="o">.</span><span class="n">data_properties_in_signature</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data_property_values</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">dp</span><span class="p">,</span> <span class="n">direct</span><span class="p">)))</span>
                <span class="k">yield</span> <span class="n">dp</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span></div>


    <span class="c1"># default</span>
<div class="viewcode-block" id="OWLReasonerEx.ind_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OWLReasonerEx.ind_object_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">ind_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectProperty</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets all object properties for the given individual that appear in the knowledge base.</span>

<span class="sd">        Args:</span>
<span class="sd">            ind: The named individual whose object properties are to be retrieved</span>
<span class="sd">            direct: Specifies if the direct object properties should be retrieved (True), or if all</span>
<span class="sd">                object properties should be retrieved (False), so that sub properties are taken into account.</span>

<span class="sd">        Returns:</span>
<span class="sd">            All data properties pe where the set of reasoner axioms entails ObjectPropertyAssertion(pe ind ind2)</span>
<span class="sd">            for atleast one ind2.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">onto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">onto</span><span class="o">.</span><span class="n">object_properties_in_signature</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">object_property_values</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">op</span><span class="p">,</span> <span class="n">direct</span><span class="p">)))</span>
                <span class="k">yield</span> <span class="n">op</span>
            <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                <span class="k">pass</span></div>
</div>



<div class="viewcode-block" id="OntologyReasoner">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner">[docs]</a>
<span class="k">class</span> <span class="nc">OntologyReasoner</span><span class="p">(</span><span class="n">OWLReasonerEx</span><span class="p">):</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="s1">&#39;_ontology&#39;</span><span class="p">,</span> <span class="s1">&#39;_world&#39;</span>

    <span class="n">_ontology</span><span class="p">:</span> <span class="n">Ontology</span>
    <span class="n">_world</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">World</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ontology</span><span class="p">:</span> <span class="n">Ontology</span><span class="p">,</span> <span class="n">isolate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Base reasoner in Ontolearn, used to reason in the given ontology.</span>

<span class="sd">        Args:</span>
<span class="sd">            ontology: The ontology that should be used by the reasoner.</span>
<span class="sd">            isolate: Whether to isolate the reasoner in a new world + copy of the original ontology.</span>
<span class="sd">                     Useful if you create multiple reasoner instances in the same script.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ontology</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ontology</span><span class="p">,</span> <span class="n">Ontology</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">isolate</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_isolated</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">new_manager</span> <span class="o">=</span> <span class="n">OntologyManager</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span> <span class="o">=</span> <span class="n">new_manager</span><span class="o">.</span><span class="n">load_ontology</span><span class="p">(</span><span class="n">ontology</span><span class="o">.</span><span class="n">get_original_iri</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_world</span> <span class="o">=</span> <span class="n">new_manager</span><span class="o">.</span><span class="n">_world</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;INFO  OWLReasoner    :: Using isolated ontology</span><span class="se">\n</span><span class="s2">&quot;</span>
                  <span class="s2">&quot;INFO  OWLReasoner    :: Changes you make in the original ontology won&#39;t be reflected to the isolated&quot;</span>
                  <span class="s2">&quot; ontology</span><span class="se">\n</span><span class="s2">&quot;</span>
                  <span class="s2">&quot;INFO  OWLReasoner    :: To make changes on the isolated ontology use the method &quot;</span>
                  <span class="s2">&quot;`update_isolated_ontology()`&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_isolated</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span> <span class="o">=</span> <span class="n">ontology</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_world</span> <span class="o">=</span> <span class="n">ontology</span><span class="o">.</span><span class="n">_world</span>

<div class="viewcode-block" id="OntologyReasoner.update_isolated_ontology">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.update_isolated_ontology">[docs]</a>
    <span class="k">def</span> <span class="nf">update_isolated_ontology</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axioms_to_add</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">OWLAxiom</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                 <span class="n">axioms_to_remove</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">OWLAxiom</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add or remove axioms to the isolated ontology that the reasoner is using.</span>

<span class="sd">        Args:</span>
<span class="sd">            axioms_to_add (List[OWLAxiom]): Axioms to add to the isolated ontology.</span>
<span class="sd">            axioms_to_remove (List[OWLAxiom]): Axioms to remove from the isolated ontology.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isolated</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">axioms_to_add</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">axioms_to_remove</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;At least one argument should be specified in method: &quot;</span>
                                 <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">update_isolated_ontology</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">manager</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">get_owl_ontology_manager</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">axioms_to_add</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">axiom</span> <span class="ow">in</span> <span class="n">axioms_to_add</span><span class="p">:</span>
                    <span class="n">manager</span><span class="o">.</span><span class="n">add_axiom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="p">,</span> <span class="n">axiom</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">axioms_to_remove</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">axiom</span> <span class="ow">in</span> <span class="n">axioms_to_remove</span><span class="p">:</span>
                    <span class="n">manager</span><span class="o">.</span><span class="n">remove_axiom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="p">,</span> <span class="n">axiom</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Misuse of method &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">update_isolated_ontology</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;. The reasoner is not &quot;</span>
                                 <span class="sa">f</span><span class="s2">&quot;using an isolated ontology.&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.data_property_domains">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.data_property_domains">[docs]</a>
    <span class="k">def</span> <span class="nf">data_property_domains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="n">domains</span> <span class="o">=</span> <span class="p">{</span><span class="n">d</span><span class="o">.</span><span class="n">get_domain</span><span class="p">()</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span><span class="o">.</span><span class="n">data_property_domain_axioms</span><span class="p">(</span><span class="n">pe</span><span class="p">)}</span>
        <span class="n">super_domains</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">super_classes</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">domains</span><span class="p">]))</span>
        <span class="k">yield from</span> <span class="n">domains</span> <span class="o">-</span> <span class="n">super_domains</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">direct</span><span class="p">:</span>
            <span class="k">yield from</span> <span class="n">super_domains</span></div>


<div class="viewcode-block" id="OntologyReasoner.object_property_domains">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.object_property_domains">[docs]</a>
    <span class="k">def</span> <span class="nf">object_property_domains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="n">domains</span> <span class="o">=</span> <span class="p">{</span><span class="n">d</span><span class="o">.</span><span class="n">get_domain</span><span class="p">()</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span><span class="o">.</span><span class="n">object_property_domain_axioms</span><span class="p">(</span><span class="n">pe</span><span class="p">)}</span>
        <span class="n">super_domains</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">super_classes</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">domains</span><span class="p">]))</span>
        <span class="k">yield from</span> <span class="n">domains</span> <span class="o">-</span> <span class="n">super_domains</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">direct</span><span class="p">:</span>
            <span class="k">yield from</span> <span class="n">super_domains</span></div>


<div class="viewcode-block" id="OntologyReasoner.object_property_ranges">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.object_property_ranges">[docs]</a>
    <span class="k">def</span> <span class="nf">object_property_ranges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="n">ranges</span> <span class="o">=</span> <span class="p">{</span><span class="n">r</span><span class="o">.</span><span class="n">get_range</span><span class="p">()</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span><span class="o">.</span><span class="n">object_property_range_axioms</span><span class="p">(</span><span class="n">pe</span><span class="p">)}</span>
        <span class="n">super_ranges</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">super_classes</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">ranges</span><span class="p">]))</span>
        <span class="k">yield from</span> <span class="n">ranges</span> <span class="o">-</span> <span class="n">super_ranges</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">direct</span><span class="p">:</span>
            <span class="k">yield from</span> <span class="n">super_ranges</span></div>


<div class="viewcode-block" id="OntologyReasoner.equivalent_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.equivalent_classes">[docs]</a>
    <span class="k">def</span> <span class="nf">equivalent_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="n">seen_set</span> <span class="o">=</span> <span class="p">{</span><span class="n">ce</span><span class="p">}</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">):</span>
            <span class="n">c_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ce</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">eq_x</span> <span class="ow">in</span> <span class="n">c_x</span><span class="o">.</span><span class="n">INDIRECT_equivalent_to</span><span class="p">:</span>
                <span class="n">eq</span> <span class="o">=</span> <span class="n">_parse_concept_to_owlapy</span><span class="p">(</span><span class="n">eq_x</span><span class="p">)</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">eq</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">)</span> <span class="ow">or</span>
                    <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">eq</span><span class="p">,</span> <span class="n">OWLClassExpression</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">only_named</span><span class="p">))</span> <span class="ow">and</span> <span class="n">eq</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                    <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">eq</span><span class="p">)</span>
                    <span class="k">yield</span> <span class="n">eq</span>
                <span class="c1"># Workaround for problems in owlready2. It does not always recognize equivalent complex class</span>
                <span class="c1"># expressions through INDIRECT_equivalent_to. Maybe it will work as soon as owlready2 adds support for</span>
                <span class="c1"># EquivalentClasses general class axioms.</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">only_named</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">eq_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">eq_2_x</span> <span class="ow">in</span> <span class="n">eq_x</span><span class="o">.</span><span class="n">equivalent_to</span><span class="p">:</span>
                        <span class="n">eq_2</span> <span class="o">=</span> <span class="n">_parse_concept_to_owlapy</span><span class="p">(</span><span class="n">eq_2_x</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">eq_2</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                            <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">eq_2</span><span class="p">)</span>
                            <span class="k">yield</span> <span class="n">eq_2</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClassExpression</span><span class="p">):</span>
            <span class="c1"># Extend as soon as owlready2 supports EquivalentClasses general class axioms</span>
            <span class="c1"># Slow but works. No better way to do this in owlready2 without using the reasoners at the moment.</span>
            <span class="c1"># Might be able to change this when owlready2 supports general class axioms for EquivalentClasses.</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">classes_in_signature</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">ce</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalent_classes</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="ow">and</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                    <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
                    <span class="k">yield</span> <span class="n">c</span>
                    <span class="k">for</span> <span class="n">e_c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalent_classes</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">e_c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span> <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">only_named</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">e_c</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">)):</span>
                            <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">e_c</span><span class="p">)</span>
                            <span class="k">yield</span> <span class="n">e_c</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Equivalent classes not implemented for: </span><span class="si">{</span><span class="n">ce</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_find_disjoint_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">seen_set</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">):</span>
            <span class="n">c_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ce</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">d_x</span> <span class="ow">in</span> <span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">entities</span><span class="p">,</span> <span class="n">c_x</span><span class="o">.</span><span class="n">disjoints</span><span class="p">())):</span>
                <span class="k">if</span> <span class="n">d_x</span> <span class="o">!=</span> <span class="n">c_x</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">d_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span><span class="p">)</span> <span class="ow">or</span>
                                   <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">d_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ClassConstruct</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">only_named</span><span class="p">)):</span>
                    <span class="n">d_owlapy</span> <span class="o">=</span> <span class="n">_parse_concept_to_owlapy</span><span class="p">(</span><span class="n">d_x</span><span class="p">)</span>
                    <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">d_owlapy</span><span class="p">)</span>
                    <span class="k">yield</span> <span class="n">d_owlapy</span>
                    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalent_classes</span><span class="p">(</span><span class="n">d_owlapy</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                            <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
                            <span class="k">yield</span> <span class="n">c</span>
                    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_classes</span><span class="p">(</span><span class="n">d_owlapy</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                            <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
                            <span class="k">yield</span> <span class="n">c</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClassExpression</span><span class="p">):</span>
            <span class="c1"># Extend as soon as owlready2 supports DisjointClasses general class axioms</span>
            <span class="c1"># Slow but works. No better way to do this in owlready2 without using the reasoners at the moment.</span>
            <span class="c1"># Might be able to change this when owlready2 supports general class axioms for DjsjointClasses</span>
            <span class="k">yield from</span> <span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">classes_in_signature</span><span class="p">()</span> <span class="k">if</span> <span class="n">ce</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">disjoint_classes</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Equivalent classes not implemented for: </span><span class="si">{</span><span class="n">ce</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="OntologyReasoner.disjoint_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.disjoint_classes">[docs]</a>
    <span class="k">def</span> <span class="nf">disjoint_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="n">seen_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_disjoint_classes</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">only_named</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">super_classes</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="n">OWLClass</span><span class="p">(</span><span class="n">IRI</span><span class="p">(</span><span class="s1">&#39;http://www.w3.org/2002/07/owl#&#39;</span><span class="p">,</span> <span class="s1">&#39;Thing&#39;</span><span class="p">)):</span>
                <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_disjoint_classes</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">,</span> <span class="n">seen_set</span><span class="o">=</span><span class="n">seen_set</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.different_individuals">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.different_individuals">[docs]</a>
    <span class="k">def</span> <span class="nf">different_individuals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="n">i</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ind</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="k">yield from</span> <span class="p">(</span><span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">d_i</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">d_i</span> <span class="ow">in</span> <span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">entities</span><span class="p">,</span> <span class="n">i</span><span class="o">.</span><span class="n">differents</span><span class="p">()))</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d_i</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span><span class="p">)</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">d_i</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.same_individuals">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.same_individuals">[docs]</a>
    <span class="k">def</span> <span class="nf">same_individuals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="n">i</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ind</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="k">yield from</span> <span class="p">(</span><span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">d_i</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span> <span class="k">for</span> <span class="n">d_i</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">equivalent_to</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d_i</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span><span class="p">))</span></div>


<div class="viewcode-block" id="OntologyReasoner.data_property_values">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.data_property_values">[docs]</a>
    <span class="k">def</span> <span class="nf">data_property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLLiteral</span><span class="p">]:</span>
        <span class="n">i</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ind</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="n">p</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">pe</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="n">retrieval_func</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">_get_values_for_individual</span> <span class="k">if</span> <span class="n">direct</span> <span class="k">else</span> <span class="n">p</span><span class="o">.</span><span class="n">_get_indirect_values_for_individual</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">retrieval_func</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
            <span class="k">yield</span> <span class="n">OWLLiteral</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.all_data_property_values">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.all_data_property_values">[docs]</a>
    <span class="k">def</span> <span class="nf">all_data_property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLLiteral</span><span class="p">]:</span>
        <span class="n">p</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">pe</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="n">relations</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_relations</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">direct</span><span class="p">:</span>
            <span class="n">indirect_relations</span> <span class="o">=</span> <span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">str</span><span class="p">]</span><span class="o">.</span><span class="n">get_relations</span><span class="p">(),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">sub_data_properties</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
            <span class="n">relations</span> <span class="o">=</span> <span class="n">chain</span><span class="p">(</span><span class="n">relations</span><span class="p">,</span> <span class="n">indirect_relations</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">relations</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">OWLLiteral</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.object_property_values">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.object_property_values">[docs]</a>
    <span class="k">def</span> <span class="nf">object_property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectProperty</span><span class="p">):</span>
            <span class="n">i</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ind</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
            <span class="n">p</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">pe</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
            <span class="c1"># Recommended to use direct=False because _get_values_for_individual does not give consistent result</span>
            <span class="c1"># for the case when there are equivalent object properties. At least until this is fixed on owlready2.</span>
            <span class="n">retieval_func</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">_get_values_for_individual</span> <span class="k">if</span> <span class="n">direct</span> <span class="k">else</span> <span class="n">p</span><span class="o">.</span><span class="n">_get_indirect_values_for_individual</span>
            <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">retieval_func</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                <span class="k">yield</span> <span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectInverseOf</span><span class="p">):</span>
            <span class="n">p</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">pe</span><span class="o">.</span><span class="n">get_named_property</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
            <span class="n">inverse_p</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">inverse_property</span>
            <span class="c1"># If the inverse property is explicitly defined we can take shortcut</span>
            <span class="k">if</span> <span class="n">inverse_p</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">object_property_values</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">OWLObjectProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">inverse_p</span><span class="o">.</span><span class="n">iri</span><span class="p">)),</span> <span class="n">direct</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">direct</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;Indirect values of inverse properties are only implemented if the &#39;</span>
                                              <span class="s1">&#39;inverse property is explicitly defined in the ontology.&#39;</span>
                                              <span class="sa">f</span><span class="s1">&#39;Property: </span><span class="si">{</span><span class="n">pe</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="n">i</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ind</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">_get_inverse_values_for_individual</span><span class="p">(</span><span class="n">i</span><span class="p">):</span>
                    <span class="k">yield</span> <span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">pe</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.flush">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.flush">[docs]</a>
    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="OntologyReasoner.instances">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.instances">[docs]</a>
    <span class="k">def</span> <span class="nf">instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">direct</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">):</span>
                <span class="n">c_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ce</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">_onto</span><span class="o">.</span><span class="n">get_instances_of</span><span class="p">(</span><span class="n">c_x</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;instances for complex class expressions not implemented&quot;</span><span class="p">,</span> <span class="n">ce</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">ce</span><span class="o">.</span><span class="n">is_owl_thing</span><span class="p">():</span>
                <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">individuals_in_signature</span><span class="p">()</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">):</span>
                <span class="n">c_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ce</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">c_x</span><span class="o">.</span><span class="n">instances</span><span class="p">(</span><span class="n">world</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
            <span class="c1"># elif isinstance(ce, OWLObjectSomeValuesFrom) and ce.get_filler().is_owl_thing()\</span>
            <span class="c1">#         and isinstance(ce.get_property(), OWLProperty):</span>
            <span class="c1">#     seen_set = set()</span>
            <span class="c1">#     p_x: owlready2.ObjectProperty = self._world[ce.get_property().get_named_property().str]</span>
            <span class="c1">#     for i, _ in p_x.get_relations():</span>
            <span class="c1">#         if isinstance(i, owlready2.Thing) and i not in seen_set:</span>
            <span class="c1">#             seen_set.add(i)</span>
            <span class="c1">#             yield OWLNamedIndividual(IRI.create(i.iri))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;instances for complex class expressions not implemented&quot;</span><span class="p">,</span> <span class="n">ce</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_sub_classes_recursive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">:</span> <span class="n">Set</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>

        <span class="c1"># work around issue in class equivalence detection in Owlready2</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ce</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">equivalent_classes</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="kc">False</span><span class="p">)]:</span>
            <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">c</span>
            <span class="c1"># First go through all general class axioms, they should only have complex classes as sub_classes.</span>
            <span class="c1"># Done for OWLClass and OWLClassExpression.</span>
            <span class="k">for</span> <span class="n">axiom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">general_class_axioms</span><span class="p">():</span>
                <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">axiom</span><span class="p">,</span> <span class="n">OWLSubClassOfAxiom</span><span class="p">)</span> <span class="ow">and</span> <span class="n">axiom</span><span class="o">.</span><span class="n">get_super_class</span><span class="p">()</span> <span class="o">==</span> <span class="n">c</span>
                        <span class="ow">and</span> <span class="n">axiom</span><span class="o">.</span><span class="n">get_sub_class</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">):</span>
                    <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">axiom</span><span class="o">.</span><span class="n">get_sub_class</span><span class="p">())</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">only_named</span><span class="p">:</span>
                        <span class="k">yield</span> <span class="n">axiom</span><span class="o">.</span><span class="n">get_sub_class</span><span class="p">()</span>
                    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sub_classes_recursive</span><span class="p">(</span><span class="n">axiom</span><span class="o">.</span><span class="n">get_sub_class</span><span class="p">(),</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">only_named</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">):</span>
                <span class="n">c_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">EntityClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
                <span class="c1"># Subclasses will only return named classes</span>
                <span class="k">for</span> <span class="n">sc_x</span> <span class="ow">in</span> <span class="n">c_x</span><span class="o">.</span><span class="n">subclasses</span><span class="p">(</span><span class="n">world</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">):</span>
                    <span class="n">sc</span> <span class="o">=</span> <span class="n">_parse_concept_to_owlapy</span><span class="p">(</span><span class="n">sc_x</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">)</span> <span class="ow">and</span> <span class="n">sc</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                        <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
                        <span class="k">yield</span> <span class="n">sc</span>
                        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sub_classes_recursive</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">OWLClassExpression</span><span class="p">):</span>
                <span class="c1"># Slow but works. No better way to do this in owlready2 without using the reasoners at the moment.</span>
                <span class="k">for</span> <span class="n">atomic_c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">classes_in_signature</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">super_classes</span><span class="p">(</span><span class="n">atomic_c</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="ow">and</span> <span class="n">atomic_c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                        <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">atomic_c</span><span class="p">)</span>
                        <span class="k">yield</span> <span class="n">atomic_c</span>
                        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sub_classes_recursive</span><span class="p">(</span><span class="n">atomic_c</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLObjectSomeValuesFrom</span><span class="p">):</span>
                    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_object_properties</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">get_property</span><span class="p">()):</span>
                        <span class="n">osvf</span> <span class="o">=</span> <span class="n">OWLObjectSomeValuesFrom</span><span class="p">(</span><span class="nb">property</span><span class="o">=</span><span class="n">r</span><span class="p">,</span>
                                                       <span class="n">filler</span><span class="o">=</span><span class="n">ce</span><span class="o">.</span><span class="n">get_filler</span><span class="p">())</span>
                        <span class="k">if</span> <span class="n">osvf</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                            <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">osvf</span><span class="p">)</span>
                            <span class="k">yield</span> <span class="n">osvf</span>
                            <span class="c1"># yield from self._sub_classes_recursive(osvf, seen_set, only_named=only_named)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Sub classes retrieval not implemented for: </span><span class="si">{</span><span class="n">ce</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="OntologyReasoner.sub_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.sub_classes">[docs]</a>
    <span class="k">def</span> <span class="nf">sub_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">direct</span><span class="p">:</span>
            <span class="n">seen_set</span> <span class="o">=</span> <span class="p">{</span><span class="n">ce</span><span class="p">}</span>
            <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sub_classes_recursive</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># First go through all general class axioms, they should only have complex classes as sub_classes.</span>
            <span class="c1"># Done for OWLClass and OWLClassExpression.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">only_named</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">axiom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">general_class_axioms</span><span class="p">():</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axiom</span><span class="p">,</span> <span class="n">OWLSubClassOfAxiom</span><span class="p">)</span> <span class="ow">and</span> <span class="n">axiom</span><span class="o">.</span><span class="n">get_super_class</span><span class="p">()</span> <span class="o">==</span> <span class="n">ce</span><span class="p">:</span>
                        <span class="k">yield</span> <span class="n">axiom</span><span class="o">.</span><span class="n">get_sub_class</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">):</span>
                <span class="n">c_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ce</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
                <span class="c1"># Subclasses will only return named classes</span>
                <span class="k">for</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">c_x</span><span class="o">.</span><span class="n">subclasses</span><span class="p">(</span><span class="n">world</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">OWLClass</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sc</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClassExpression</span><span class="p">):</span>
                <span class="c1"># Slow but works. No better way to do this in owlready2 without using the reasoners at the moment.</span>
                <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">classes_in_signature</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">ce</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">super_classes</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">c</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Sub classes retrieval not implemented for: </span><span class="si">{</span><span class="n">ce</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_super_classes_recursive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">:</span> <span class="n">Set</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="c1"># work around issue in class equivalence detection in Owlready2</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="n">ce</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">equivalent_classes</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="kc">False</span><span class="p">)]:</span>
            <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">c</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">):</span>
                <span class="n">c_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">EntityClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">sc_x</span> <span class="ow">in</span> <span class="n">c_x</span><span class="o">.</span><span class="n">is_a</span><span class="p">:</span>
                    <span class="n">sc</span> <span class="o">=</span> <span class="n">_parse_concept_to_owlapy</span><span class="p">(</span><span class="n">sc_x</span><span class="p">)</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">OWLClassExpression</span><span class="p">))</span> <span class="ow">and</span> <span class="n">sc</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                        <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
                        <span class="c1"># Return class expression if it is a named class or complex class expressions should be</span>
                        <span class="c1"># included</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">only_named</span><span class="p">:</span>
                            <span class="k">yield</span> <span class="n">sc</span>
                        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_super_classes_recursive</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">OWLClassExpression</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">axiom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">general_class_axioms</span><span class="p">():</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">axiom</span><span class="p">,</span> <span class="n">OWLSubClassOfAxiom</span><span class="p">)</span> <span class="ow">and</span> <span class="n">axiom</span><span class="o">.</span><span class="n">get_sub_class</span><span class="p">()</span> <span class="o">==</span> <span class="n">c</span>
                            <span class="ow">and</span> <span class="p">(</span><span class="n">axiom</span><span class="o">.</span><span class="n">get_super_class</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">)):</span>
                        <span class="n">super_class</span> <span class="o">=</span> <span class="n">axiom</span><span class="o">.</span><span class="n">get_super_class</span><span class="p">()</span>
                        <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">super_class</span><span class="p">)</span>
                        <span class="c1"># Return class expression if it is a named class or complex class expressions should be</span>
                        <span class="c1"># included</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">super_class</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">only_named</span><span class="p">:</span>
                            <span class="k">yield</span> <span class="n">super_class</span>
                        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_super_classes_recursive</span><span class="p">(</span><span class="n">super_class</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span>

                <span class="c1"># Slow but works. No better way to do this in owlready2 without using the reasoners at the moment.</span>
                <span class="k">for</span> <span class="n">atomic_c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">classes_in_signature</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_classes</span><span class="p">(</span><span class="n">atomic_c</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="ow">and</span> <span class="n">atomic_c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                        <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">atomic_c</span><span class="p">)</span>
                        <span class="k">yield</span> <span class="n">atomic_c</span>
                        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_super_classes_recursive</span><span class="p">(</span><span class="n">atomic_c</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Super classes retrieval not supported for: </span><span class="si">{</span><span class="n">ce</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="OntologyReasoner.super_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.super_classes">[docs]</a>
    <span class="k">def</span> <span class="nf">super_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">direct</span><span class="p">:</span>
            <span class="n">seen_set</span> <span class="o">=</span> <span class="p">{</span><span class="n">ce</span><span class="p">}</span>
            <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_super_classes_recursive</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClass</span><span class="p">):</span>
                <span class="n">c_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ce</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">c_x</span><span class="o">.</span><span class="n">is_a</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span><span class="p">)</span> <span class="ow">or</span>
                            <span class="p">(</span><span class="ow">not</span> <span class="n">only_named</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ClassConstruct</span><span class="p">))):</span>
                        <span class="k">yield</span> <span class="n">_parse_concept_to_owlapy</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLClassExpression</span><span class="p">):</span>
                <span class="n">seen_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">axiom</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">general_class_axioms</span><span class="p">():</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">axiom</span><span class="p">,</span> <span class="n">OWLSubClassOfAxiom</span><span class="p">)</span> <span class="ow">and</span> <span class="n">axiom</span><span class="o">.</span><span class="n">get_sub_class</span><span class="p">()</span> <span class="o">==</span> <span class="n">ce</span>
                            <span class="ow">and</span> <span class="p">(</span><span class="ow">not</span> <span class="n">only_named</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axiom</span><span class="o">.</span><span class="n">get_super_class</span><span class="p">(),</span> <span class="n">OWLClass</span><span class="p">))):</span>
                        <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">axiom</span><span class="o">.</span><span class="n">get_super_class</span><span class="p">())</span>
                        <span class="k">yield</span> <span class="n">axiom</span><span class="o">.</span><span class="n">get_super_class</span><span class="p">()</span>
                <span class="c1"># Slow but works. No better way to do this in owlready2 without using the reasoners at the moment.</span>
                <span class="c1"># TODO: Might not be needed, in theory the general class axioms above should cover all classes</span>
                <span class="c1"># that can be found here</span>
                <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">classes_in_signature</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">ce</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_classes</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="ow">and</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                        <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
                        <span class="k">yield</span> <span class="n">c</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Super classes retrieval not supported for </span><span class="si">{</span><span class="n">ce</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.equivalent_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.equivalent_object_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">equivalent_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">OWLObjectProperty</span><span class="p">):</span>
            <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
            <span class="k">yield from</span> <span class="p">(</span><span class="n">OWLObjectProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">ep_x</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span> <span class="k">for</span> <span class="n">ep_x</span> <span class="ow">in</span> <span class="n">p_x</span><span class="o">.</span><span class="n">INDIRECT_equivalent_to</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ep_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;equivalent properties of inverse properties not yet implemented&quot;</span><span class="p">,</span> <span class="n">op</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.equivalent_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.equivalent_data_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">equivalent_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">dp</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="k">yield from</span> <span class="p">(</span><span class="n">OWLDataProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">ep_x</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span> <span class="k">for</span> <span class="n">ep_x</span> <span class="ow">in</span> <span class="n">p_x</span><span class="o">.</span><span class="n">INDIRECT_equivalent_to</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ep_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span><span class="p">))</span></div>


    <span class="k">def</span> <span class="nf">_find_disjoint_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">seen_set</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">OWLObjectProperty</span><span class="p">):</span>
            <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
            <span class="n">ont_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Ontology</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span><span class="o">.</span><span class="n">_onto</span>
            <span class="k">for</span> <span class="n">disjoint</span> <span class="ow">in</span> <span class="n">ont_x</span><span class="o">.</span><span class="n">disjoint_properties</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">p_x</span> <span class="ow">in</span> <span class="n">disjoint</span><span class="o">.</span><span class="n">entities</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">o_p</span> <span class="ow">in</span> <span class="n">disjoint</span><span class="o">.</span><span class="n">entities</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o_p</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span><span class="p">)</span> <span class="ow">and</span> <span class="n">o_p</span> <span class="o">!=</span> <span class="n">p_x</span><span class="p">:</span>
                            <span class="n">op_owlapy</span> <span class="o">=</span> <span class="n">OWLObjectProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">o_p</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
                            <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">op_owlapy</span><span class="p">)</span>
                            <span class="k">yield</span> <span class="n">op_owlapy</span>
                            <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalent_object_properties</span><span class="p">(</span><span class="n">op_owlapy</span><span class="p">):</span>
                                <span class="k">if</span> <span class="n">o</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                                    <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                                    <span class="k">yield</span> <span class="n">o</span>
                            <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_object_properties</span><span class="p">(</span><span class="n">op_owlapy</span><span class="p">):</span>
                                <span class="k">if</span> <span class="n">o</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                                    <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                                    <span class="k">yield</span> <span class="n">o</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;disjoint object properties of inverse properties not yet implemented&quot;</span><span class="p">,</span> <span class="n">op</span><span class="p">)</span>

<div class="viewcode-block" id="OntologyReasoner.disjoint_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.disjoint_object_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">disjoint_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
        <span class="n">seen_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_disjoint_object_properties</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">super_object_properties</span><span class="p">(</span><span class="n">op</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">o</span> <span class="o">!=</span> <span class="n">OWLObjectProperty</span><span class="p">(</span><span class="n">IRI</span><span class="p">(</span><span class="s1">&#39;http://www.w3.org/2002/07/owl#&#39;</span><span class="p">,</span> <span class="s1">&#39;ObjectProperty&#39;</span><span class="p">)):</span>
                <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_disjoint_object_properties</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">seen_set</span><span class="o">=</span><span class="n">seen_set</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_find_disjoint_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">seen_set</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">dp</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="n">ont_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Ontology</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span><span class="o">.</span><span class="n">_onto</span>
        <span class="k">for</span> <span class="n">disjoint</span> <span class="ow">in</span> <span class="n">ont_x</span><span class="o">.</span><span class="n">disjoint_properties</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">p_x</span> <span class="ow">in</span> <span class="n">disjoint</span><span class="o">.</span><span class="n">entities</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">d_p</span> <span class="ow">in</span> <span class="n">disjoint</span><span class="o">.</span><span class="n">entities</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">d_p</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span><span class="p">)</span> <span class="ow">and</span> <span class="n">d_p</span> <span class="o">!=</span> <span class="n">p_x</span><span class="p">:</span>
                        <span class="n">dp_owlapy</span> <span class="o">=</span> <span class="n">OWLDataProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">d_p</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
                        <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">dp_owlapy</span><span class="p">)</span>
                        <span class="k">yield</span> <span class="n">dp_owlapy</span>
                        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalent_data_properties</span><span class="p">(</span><span class="n">dp_owlapy</span><span class="p">):</span>
                            <span class="k">if</span> <span class="n">d</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                                <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
                                <span class="k">yield</span> <span class="n">d</span>
                        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_data_properties</span><span class="p">(</span><span class="n">dp_owlapy</span><span class="p">):</span>
                            <span class="k">if</span> <span class="n">d</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                                <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
                                <span class="k">yield</span> <span class="n">d</span>

<div class="viewcode-block" id="OntologyReasoner.disjoint_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.disjoint_data_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">disjoint_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="n">seen_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_disjoint_data_properties</span><span class="p">(</span><span class="n">dp</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">super_data_properties</span><span class="p">(</span><span class="n">dp</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">d</span> <span class="o">!=</span> <span class="n">OWLDataProperty</span><span class="p">(</span><span class="n">IRI</span><span class="p">(</span><span class="s1">&#39;http://www.w3.org/2002/07/owl#&#39;</span><span class="p">,</span> <span class="s1">&#39;DatatypeProperty&#39;</span><span class="p">)):</span>
                <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_disjoint_data_properties</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">seen_set</span><span class="o">=</span><span class="n">seen_set</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_sup_or_sub_data_properties_recursive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">:</span> <span class="n">Set</span><span class="p">,</span> <span class="n">super_or_sub</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalent_data_properties</span><span class="p">(</span><span class="n">dp</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">d</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">d</span>
        <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">dp</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">super_or_sub</span> <span class="o">==</span> <span class="s2">&quot;super&quot;</span><span class="p">:</span>
            <span class="n">dps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p_x</span><span class="o">.</span><span class="n">is_a</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p_x</span><span class="o">.</span><span class="n">subclasses</span><span class="p">(</span><span class="n">world</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">sp_x</span> <span class="ow">in</span> <span class="n">dps</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sp_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span><span class="p">):</span>
                <span class="n">sp</span> <span class="o">=</span> <span class="n">OWLDataProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sp_x</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">sp</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                    <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
                    <span class="k">yield</span> <span class="n">sp</span>
                    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sup_or_sub_data_properties_recursive</span><span class="p">(</span><span class="n">sp</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">super_or_sub</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_sup_or_sub_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">super_or_sub</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dp</span><span class="p">,</span> <span class="n">OWLDataProperty</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">direct</span><span class="p">:</span>
            <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">dp</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">super_or_sub</span> <span class="o">==</span> <span class="s2">&quot;super&quot;</span><span class="p">:</span>
                <span class="n">dps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p_x</span><span class="o">.</span><span class="n">is_a</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p_x</span><span class="o">.</span><span class="n">subclasses</span><span class="p">(</span><span class="n">world</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">sp</span> <span class="ow">in</span> <span class="n">dps</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sp</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataPropertyClass</span><span class="p">):</span>
                    <span class="k">yield</span> <span class="n">OWLDataProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">seen_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sup_or_sub_data_properties_recursive</span><span class="p">(</span><span class="n">dp</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">super_or_sub</span><span class="p">)</span>

<div class="viewcode-block" id="OntologyReasoner.super_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.super_data_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">super_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the stream of data properties that are the strict (potentially direct) super properties of the</span>
<span class="sd">         specified data property with respect to the imports closure of the root ontology.</span>

<span class="sd">         Args:</span>
<span class="sd">             dp (OWLDataProperty): The data property whose super properties are to be retrieved.</span>
<span class="sd">             direct (bool): Specifies if the direct super properties should be retrieved (True) or if the all</span>
<span class="sd">                            super properties (ancestors) should be retrieved (False).</span>

<span class="sd">         Returns:</span>
<span class="sd">             Iterable of super properties.</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sup_or_sub_data_properties</span><span class="p">(</span><span class="n">dp</span><span class="p">,</span> <span class="n">direct</span><span class="p">,</span> <span class="s2">&quot;super&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.sub_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.sub_data_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">sub_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sup_or_sub_data_properties</span><span class="p">(</span><span class="n">dp</span><span class="p">,</span> <span class="n">direct</span><span class="p">,</span> <span class="s2">&quot;sub&quot;</span><span class="p">)</span></div>


    <span class="k">def</span> <span class="nf">_sup_or_sub_object_properties_recursive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">:</span> <span class="n">Set</span><span class="p">,</span> <span class="n">super_or_sub</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">equivalent_object_properties</span><span class="p">(</span><span class="n">op</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">o</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">o</span>
        <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">super_or_sub</span> <span class="o">==</span> <span class="s2">&quot;super&quot;</span><span class="p">:</span>
            <span class="n">dps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p_x</span><span class="o">.</span><span class="n">is_a</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p_x</span><span class="o">.</span><span class="n">subclasses</span><span class="p">(</span><span class="n">world</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">sp_x</span> <span class="ow">in</span> <span class="n">dps</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sp_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span><span class="p">):</span>
                <span class="n">sp</span> <span class="o">=</span> <span class="n">OWLObjectProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sp_x</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">sp</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seen_set</span><span class="p">:</span>
                    <span class="n">seen_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
                    <span class="k">yield</span> <span class="n">sp</span>
                    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sup_or_sub_object_properties_recursive</span><span class="p">(</span><span class="n">sp</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">super_or_sub</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_sup_or_sub_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">super_or_sub</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">OWLObjectProperty</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">direct</span><span class="p">:</span>
                <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">super_or_sub</span> <span class="o">==</span> <span class="s2">&quot;super&quot;</span><span class="p">:</span>
                    <span class="n">dps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p_x</span><span class="o">.</span><span class="n">is_a</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">dps</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">p_x</span><span class="o">.</span><span class="n">subclasses</span><span class="p">(</span><span class="n">world</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">sp</span> <span class="ow">in</span> <span class="n">dps</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sp</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span><span class="p">):</span>
                        <span class="k">yield</span> <span class="n">OWLObjectProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sp</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">seen_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
                <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sup_or_sub_object_properties_recursive</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">seen_set</span><span class="p">,</span> <span class="n">super_or_sub</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">OWLObjectInverseOf</span><span class="p">):</span>
            <span class="n">p</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectPropertyClass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">get_named_property</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
            <span class="n">inverse_p</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">inverse_property</span>
            <span class="k">if</span> <span class="n">inverse_p</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sup_or_sub_object_properties</span><span class="p">(</span><span class="n">OWLObjectProperty</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">inverse_p</span><span class="o">.</span><span class="n">iri</span><span class="p">)),</span> <span class="n">direct</span><span class="p">,</span>
                                                              <span class="n">super_or_sub</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">super_or_sub</span><span class="si">}</span><span class="s1"> properties of inverse properties are only implemented if the&#39;</span>
                                          <span class="s1">&#39; inverse property is explicitly defined in the ontology. &#39;</span>
                                          <span class="sa">f</span><span class="s1">&#39;Property: </span><span class="si">{</span><span class="n">op</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>

<div class="viewcode-block" id="OntologyReasoner.super_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.super_object_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">super_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gets the stream of object properties that are the strict (potentially direct) super properties of the</span>
<span class="sd">         specified object property with respect to the imports closure of the root ontology.</span>

<span class="sd">         Args:</span>
<span class="sd">             op (OWLObjectPropertyExpression): The object property expression whose super properties are to be</span>
<span class="sd">                                                retrieved.</span>
<span class="sd">             direct (bool): Specifies if the direct super properties should be retrieved (True) or if the all</span>
<span class="sd">                            super properties (ancestors) should be retrieved (False).</span>

<span class="sd">         Returns:</span>
<span class="sd">             Iterable of super properties.</span>
<span class="sd">         &quot;&quot;&quot;</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sup_or_sub_object_properties</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">direct</span><span class="p">,</span> <span class="s2">&quot;super&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.sub_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.sub_object_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">sub_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sup_or_sub_object_properties</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">direct</span><span class="p">,</span> <span class="s2">&quot;sub&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="OntologyReasoner.types">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.types">[docs]</a>
    <span class="k">def</span> <span class="nf">types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClass</span><span class="p">]:</span>
        <span class="n">i</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">ind</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">direct</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">is_a</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span><span class="p">):</span>
                    <span class="k">yield</span> <span class="n">OWLClass</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
                <span class="c1"># Anonymous classes are ignored</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">i</span><span class="o">.</span><span class="n">INDIRECT_is_a</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span><span class="p">):</span>
                    <span class="k">yield</span> <span class="n">OWLClass</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span></div>

                <span class="c1"># Anonymous classes are ignored</span>

    <span class="k">def</span> <span class="nf">_sync_reasoner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_reasoner</span><span class="p">:</span> <span class="n">BaseReasoner</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                       <span class="n">infer_property_values</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                       <span class="n">infer_data_property_values</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">debug</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Call Owlready2&#39;s sync_reasoner method, which spawns a Java process on a temp file to infer more.</span>

<span class="sd">        Args:</span>
<span class="sd">            other_reasoner: Set to BaseReasoner.PELLET (default) or BaseReasoner.HERMIT.</span>
<span class="sd">            infer_property_values: Whether to infer property values.</span>
<span class="sd">            infer_data_property_values: Whether to infer data property values (only for PELLET).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">other_reasoner</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other_reasoner</span><span class="p">,</span> <span class="n">BaseReasoner</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span><span class="o">.</span><span class="n">_onto</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">other_reasoner</span> <span class="o">==</span> <span class="n">BaseReasoner</span><span class="o">.</span><span class="n">HERMIT</span><span class="p">:</span>
                <span class="n">owlready2</span><span class="o">.</span><span class="n">sync_reasoner_hermit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">,</span> <span class="n">infer_property_values</span><span class="o">=</span><span class="n">infer_property_values</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">owlready2</span><span class="o">.</span><span class="n">sync_reasoner_pellet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">,</span>
                                               <span class="n">infer_property_values</span><span class="o">=</span><span class="n">infer_property_values</span><span class="p">,</span>
                                               <span class="n">infer_data_property_values</span><span class="o">=</span><span class="n">infer_data_property_values</span><span class="p">,</span>
                                               <span class="n">debug</span><span class="o">=</span><span class="n">debug</span><span class="p">)</span>

<div class="viewcode-block" id="OntologyReasoner.get_root_ontology">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.get_root_ontology">[docs]</a>
    <span class="k">def</span> <span class="nf">get_root_ontology</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OWLOntology</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span></div>


<div class="viewcode-block" id="OntologyReasoner.is_isolated">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.OntologyReasoner.is_isolated">[docs]</a>
    <span class="k">def</span> <span class="nf">is_isolated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return True if this reasoner is using an isolated ontology.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isolated</span></div>
</div>



<span class="n">_P</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s1">&#39;_P&#39;</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="n">OWLPropertyExpression</span><span class="p">)</span>

<div class="viewcode-block" id="FastInstanceCheckerReasoner">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner">[docs]</a>
<span class="k">class</span> <span class="nc">FastInstanceCheckerReasoner</span><span class="p">(</span><span class="n">OWLReasonerEx</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tries to check instances fast (but maybe incomplete).&quot;&quot;&quot;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="s1">&#39;_ontology&#39;</span><span class="p">,</span> <span class="s1">&#39;_base_reasoner&#39;</span><span class="p">,</span> \
                <span class="s1">&#39;_ind_set&#39;</span><span class="p">,</span> <span class="s1">&#39;_cls_to_ind&#39;</span><span class="p">,</span> \
                <span class="s1">&#39;_has_prop&#39;</span><span class="p">,</span> \
                <span class="s1">&#39;_objectsomevalues_cache&#39;</span><span class="p">,</span> <span class="s1">&#39;_datasomevalues_cache&#39;</span><span class="p">,</span> <span class="s1">&#39;_objectcardinality_cache&#39;</span><span class="p">,</span> \
                <span class="s1">&#39;_property_cache&#39;</span><span class="p">,</span> \
                <span class="s1">&#39;_obj_prop&#39;</span><span class="p">,</span> <span class="s1">&#39;_obj_prop_inv&#39;</span><span class="p">,</span> <span class="s1">&#39;_data_prop&#39;</span><span class="p">,</span> \
                <span class="s1">&#39;_negation_default&#39;</span><span class="p">,</span> \
                <span class="s1">&#39;__warned&#39;</span>

    <span class="n">_ontology</span><span class="p">:</span> <span class="n">OWLOntology</span>
    <span class="n">_base_reasoner</span><span class="p">:</span> <span class="n">OWLReasoner</span>
    <span class="n">_cls_to_ind</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">OWLClass</span><span class="p">,</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]]</span>  <span class="c1"># Class =&gt; individuals</span>
    <span class="n">_has_prop</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">_P</span><span class="p">],</span> <span class="n">LRUCache</span><span class="p">[</span><span class="n">_P</span><span class="p">,</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]]]</span>  <span class="c1"># Type =&gt; Property =&gt; individuals</span>
    <span class="n">_ind_set</span><span class="p">:</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]</span>
    <span class="c1"># ObjectSomeValuesFrom =&gt; individuals</span>
    <span class="n">_objectsomevalues_cache</span><span class="p">:</span> <span class="n">LRUCache</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]]</span>
    <span class="c1"># DataSomeValuesFrom =&gt; individuals</span>
    <span class="n">_datasomevalues_cache</span><span class="p">:</span> <span class="n">LRUCache</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]]</span>
    <span class="c1"># ObjectCardinalityRestriction =&gt; individuals</span>
    <span class="n">_objectcardinality_cache</span><span class="p">:</span> <span class="n">LRUCache</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]]</span>
    <span class="c1"># ObjectProperty =&gt; { individual =&gt; individuals }</span>
    <span class="n">_obj_prop</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]]]</span>
    <span class="c1"># ObjectProperty =&gt; { individual =&gt; individuals }</span>
    <span class="n">_obj_prop_inv</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]]]</span>
    <span class="c1"># DataProperty =&gt; { individual =&gt; literals }</span>
    <span class="n">_data_prop</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="n">OWLLiteral</span><span class="p">]]]</span>
    <span class="n">_property_cache</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">_negation_default</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">_sub_properties</span><span class="p">:</span> <span class="nb">bool</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ontology</span><span class="p">:</span> <span class="n">OWLOntology</span><span class="p">,</span> <span class="n">base_reasoner</span><span class="p">:</span> <span class="n">OWLReasoner</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span>
                 <span class="n">property_cache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">negation_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">sub_properties</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fast instance checker.</span>

<span class="sd">        Args:</span>
<span class="sd">            ontology: Ontology to use.</span>
<span class="sd">            base_reasoner: Reasoner to get instances/types from.</span>
<span class="sd">            property_cache: Whether to cache property values.</span>
<span class="sd">            negation_default: Whether to assume a missing fact means it is false (&quot;closed world view&quot;).</span>
<span class="sd">            sub_properties: Whether to take sub properties into account for the</span>
<span class="sd">                :func:`OWLReasoner_FastInstanceChecker.instances` retrieval.</span>
<span class="sd">            &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ontology</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">base_reasoner</span><span class="o">.</span><span class="n">is_isolated</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span> <span class="o">=</span> <span class="n">base_reasoner</span><span class="o">.</span><span class="n">get_root_ontology</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span> <span class="o">=</span> <span class="n">ontology</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span> <span class="o">=</span> <span class="n">base_reasoner</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_property_cache</span> <span class="o">=</span> <span class="n">property_cache</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_negation_default</span> <span class="o">=</span> <span class="n">negation_default</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sub_properties</span> <span class="o">=</span> <span class="n">sub_properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__warned</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cache_size</span><span class="o">=</span><span class="mi">128</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cls_to_ind</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">individuals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">individuals_in_signature</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ind_set</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span><span class="n">individuals</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_objectsomevalues_cache</span> <span class="o">=</span> <span class="n">LRUCache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="n">cache_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_datasomevalues_cache</span> <span class="o">=</span> <span class="n">LRUCache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="n">cache_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_objectcardinality_cache</span> <span class="o">=</span> <span class="n">LRUCache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="n">cache_size</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_obj_prop</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_obj_prop_inv</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_data_prop</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_has_prop</span> <span class="o">=</span> <span class="n">MappingProxyType</span><span class="p">({</span>
                <span class="n">OWLDataProperty</span><span class="p">:</span> <span class="n">LRUCache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="n">cache_size</span><span class="p">),</span>
                <span class="n">OWLObjectProperty</span><span class="p">:</span> <span class="n">LRUCache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="n">cache_size</span><span class="p">),</span>
                <span class="n">OWLObjectInverseOf</span><span class="p">:</span> <span class="n">LRUCache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="n">cache_size</span><span class="p">),</span>
            <span class="p">})</span>

<div class="viewcode-block" id="FastInstanceCheckerReasoner.reset">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.reset">[docs]</a>
    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The reset method shall reset any cached state.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">()</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.is_isolated">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.is_isolated">[docs]</a>
    <span class="k">def</span> <span class="nf">is_isolated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">is_isolated</span><span class="p">()</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.is_using_triplestore">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.is_using_triplestore">[docs]</a>
    <span class="k">def</span> <span class="nf">is_using_triplestore</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># TODO: Deprecated! Remove after it is removed from OWLReasoner in owlapy</span>
        <span class="k">pass</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.data_property_domains">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.data_property_domains">[docs]</a>
    <span class="k">def</span> <span class="nf">data_property_domains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">data_property_domains</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.data_property_ranges">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.data_property_ranges">[docs]</a>
    <span class="k">def</span> <span class="nf">data_property_ranges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataRange</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">data_property_ranges</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.object_property_domains">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.object_property_domains">[docs]</a>
    <span class="k">def</span> <span class="nf">object_property_domains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">object_property_domains</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.object_property_ranges">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.object_property_ranges">[docs]</a>
    <span class="k">def</span> <span class="nf">object_property_ranges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">object_property_ranges</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.equivalent_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.equivalent_classes">[docs]</a>
    <span class="k">def</span> <span class="nf">equivalent_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">equivalent_classes</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.disjoint_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.disjoint_classes">[docs]</a>
    <span class="k">def</span> <span class="nf">disjoint_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">disjoint_classes</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.different_individuals">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.different_individuals">[docs]</a>
    <span class="k">def</span> <span class="nf">different_individuals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">different_individuals</span><span class="p">(</span><span class="n">ce</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.same_individuals">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.same_individuals">[docs]</a>
    <span class="k">def</span> <span class="nf">same_individuals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">same_individuals</span><span class="p">(</span><span class="n">ce</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.data_property_values">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.data_property_values">[docs]</a>
    <span class="k">def</span> <span class="nf">data_property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLLiteral</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">data_property_values</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.all_data_property_values">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.all_data_property_values">[docs]</a>
    <span class="k">def</span> <span class="nf">all_data_property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLLiteral</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">all_data_property_values</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.object_property_values">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.object_property_values">[docs]</a>
    <span class="k">def</span> <span class="nf">object_property_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">object_property_values</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.flush">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.flush">[docs]</a>
    <span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.instances">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.instances">[docs]</a>
    <span class="k">def</span> <span class="nf">instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">direct</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__warned</span> <span class="o">&amp;</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;direct not implemented&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__warned</span> <span class="o">|=</span> <span class="mi">2</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span><span class="n">ce</span><span class="p">)</span>
        <span class="k">yield from</span> <span class="n">temp</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.sub_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.sub_classes">[docs]</a>
    <span class="k">def</span> <span class="nf">sub_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">sub_classes</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.super_classes">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.super_classes">[docs]</a>
    <span class="k">def</span> <span class="nf">super_classes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">only_named</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClassExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">super_classes</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">,</span> <span class="n">only_named</span><span class="o">=</span><span class="n">only_named</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.types">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.types">[docs]</a>
    <span class="k">def</span> <span class="nf">types</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ind</span><span class="p">:</span> <span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLClass</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">types</span><span class="p">(</span><span class="n">ind</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.equivalent_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.equivalent_object_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">equivalent_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">equivalent_object_properties</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.equivalent_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.equivalent_data_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">equivalent_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">equivalent_data_properties</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.disjoint_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.disjoint_object_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">disjoint_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">disjoint_object_properties</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.disjoint_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.disjoint_data_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">disjoint_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">disjoint_data_properties</span><span class="p">(</span><span class="n">dp</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.sub_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.sub_data_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">sub_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">sub_data_properties</span><span class="p">(</span><span class="n">dp</span><span class="o">=</span><span class="n">dp</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.super_data_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.super_data_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">super_data_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dp</span><span class="p">:</span> <span class="n">OWLDataProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">super_data_properties</span><span class="p">(</span><span class="n">dp</span><span class="o">=</span><span class="n">dp</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.super_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.super_object_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">super_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectProperty</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLDataProperty</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">super_object_properties</span><span class="p">(</span><span class="n">op</span><span class="o">=</span><span class="n">op</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.sub_object_properties">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.sub_object_properties">[docs]</a>
    <span class="k">def</span> <span class="nf">sub_object_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">op</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> \
            <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLObjectPropertyExpression</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">sub_object_properties</span><span class="p">(</span><span class="n">op</span><span class="o">=</span><span class="n">op</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="n">direct</span><span class="p">)</span></div>


<div class="viewcode-block" id="FastInstanceCheckerReasoner.get_root_ontology">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.FastInstanceCheckerReasoner.get_root_ontology">[docs]</a>
    <span class="k">def</span> <span class="nf">get_root_ontology</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OWLOntology</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span></div>


    <span class="k">def</span> <span class="nf">_lazy_cache_obj_prop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all individuals involved in this object property and put them in a Dict.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectInverseOf</span><span class="p">):</span>
            <span class="n">inverse</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">if</span> <span class="n">pe</span><span class="o">.</span><span class="n">get_named_property</span><span class="p">()</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_obj_prop_inv</span><span class="p">:</span>
                <span class="k">return</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectProperty</span><span class="p">):</span>
            <span class="n">inverse</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="n">pe</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_obj_prop</span><span class="p">:</span>
                <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span>

        <span class="c1"># Dict with Individual =&gt; Set[Individual]</span>
        <span class="n">opc</span><span class="p">:</span> <span class="n">DefaultDict</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>

        <span class="c1"># shortcut for owlready2</span>
        <span class="kn">from</span> <span class="nn">owlapy.owl_ontology</span> <span class="kn">import</span> <span class="n">Ontology</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="p">,</span> <span class="n">Ontology</span><span class="p">):</span>
            <span class="kn">import</span> <span class="nn">owlready2</span>
            <span class="c1"># _x =&gt; owlready2 objects</span>
            <span class="k">for</span> <span class="n">l_x</span><span class="p">,</span> <span class="n">r_x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_triples</span><span class="p">(</span><span class="n">pe</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">inverse</span><span class="p">:</span>
                    <span class="n">o_x</span> <span class="o">=</span> <span class="n">l_x</span>
                    <span class="n">s_x</span> <span class="o">=</span> <span class="n">r_x</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">s_x</span> <span class="o">=</span> <span class="n">l_x</span>
                    <span class="n">o_x</span> <span class="o">=</span> <span class="n">r_x</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">o_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span><span class="p">):</span>
                    <span class="n">s</span> <span class="o">=</span> <span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">s_x</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
                    <span class="n">o</span> <span class="o">=</span> <span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">o_x</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
                    <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">opc</span><span class="p">:</span>
                        <span class="n">opc</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
                    <span class="n">opc</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">|=</span> <span class="p">{</span><span class="n">o</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ind_set</span><span class="p">:</span>
                <span class="n">individuals</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">object_property_values</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sub_properties</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">individuals</span><span class="p">:</span>
                    <span class="n">opc</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">individuals</span>

        <span class="k">if</span> <span class="n">inverse</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_obj_prop_inv</span><span class="p">[</span><span class="n">pe</span><span class="o">.</span><span class="n">get_named_property</span><span class="p">()]</span> <span class="o">=</span> <span class="n">MappingProxyType</span><span class="p">(</span><span class="n">opc</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_obj_prop</span><span class="p">[</span><span class="n">pe</span><span class="p">]</span> <span class="o">=</span> <span class="n">MappingProxyType</span><span class="p">(</span><span class="n">opc</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_some_values_subject_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLDataProperty</span><span class="p">):</span>
            <span class="n">typ</span> <span class="o">=</span> <span class="n">OWLDataProperty</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectProperty</span><span class="p">):</span>
            <span class="n">typ</span> <span class="o">=</span> <span class="n">OWLObjectProperty</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectInverseOf</span><span class="p">):</span>
            <span class="n">typ</span> <span class="o">=</span> <span class="n">OWLObjectInverseOf</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span>

        <span class="k">if</span> <span class="n">pe</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_prop</span><span class="p">[</span><span class="n">typ</span><span class="p">]:</span>
            <span class="n">subs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

            <span class="c1"># shortcut for owlready2</span>
            <span class="kn">from</span> <span class="nn">owlapy.owl_ontology</span> <span class="kn">import</span> <span class="n">Ontology</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="p">,</span> <span class="n">Ontology</span><span class="p">):</span>
                <span class="kn">import</span> <span class="nn">owlready2</span>
                <span class="c1"># _x =&gt; owlready2 objects</span>
                <span class="k">for</span> <span class="n">s_x</span><span class="p">,</span> <span class="n">o_x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_triples</span><span class="p">(</span><span class="n">pe</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectInverseOf</span><span class="p">):</span>
                        <span class="n">l_x</span> <span class="o">=</span> <span class="n">o_x</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">l_x</span> <span class="o">=</span> <span class="n">s_x</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">l_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span><span class="p">):</span>
                        <span class="n">subs</span> <span class="o">|=</span> <span class="p">{</span><span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">l_x</span><span class="o">.</span><span class="n">iri</span><span class="p">))}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLDataProperty</span><span class="p">):</span>
                    <span class="n">func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">data_property_values</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">object_property_values</span>

                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ind_set</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sub_properties</span><span class="p">)))</span>
                        <span class="n">subs</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>
                    <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
                        <span class="k">pass</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_has_prop</span><span class="p">[</span><span class="n">typ</span><span class="p">][</span><span class="n">pe</span><span class="p">]</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span><span class="n">subs</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_prop</span><span class="p">[</span><span class="n">typ</span><span class="p">][</span><span class="n">pe</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_find_some_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">,</span> <span class="n">filler_inds</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">],</span>
                          <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">max_count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all individuals that have one of filler_inds as their object property value.&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_cache_obj_prop</span><span class="p">(</span><span class="n">pe</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectInverseOf</span><span class="p">):</span>
                <span class="n">ops</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_obj_prop_inv</span><span class="p">[</span><span class="n">pe</span><span class="o">.</span><span class="n">get_named_property</span><span class="p">()]</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectProperty</span><span class="p">):</span>
                <span class="n">ops</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_obj_prop</span><span class="p">[</span><span class="n">pe</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>

            <span class="n">exists_p</span> <span class="o">=</span> <span class="n">min_count</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">max_count</span> <span class="ow">is</span> <span class="kc">None</span>

            <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">o_set</span> <span class="ow">in</span> <span class="n">ops</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">exists_p</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">o_set</span> <span class="o">&amp;</span> <span class="n">filler_inds</span><span class="p">:</span>
                        <span class="n">ret</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">o_set</span> <span class="o">&amp;</span> <span class="n">filler_inds</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="n">min_count</span> <span class="ow">and</span> <span class="p">(</span><span class="n">max_count</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">count</span> <span class="o">&lt;=</span> <span class="n">max_count</span><span class="p">):</span>
                        <span class="n">ret</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">subs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_some_values_subject_index</span><span class="p">(</span><span class="n">pe</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>
                <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">object_property_values</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">pe</span><span class="p">,</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sub_properties</span><span class="p">):</span>
                    <span class="k">if</span> <span class="p">{</span><span class="n">o</span><span class="p">}</span> <span class="o">&amp;</span> <span class="n">filler_inds</span><span class="p">:</span>
                        <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
                        <span class="k">if</span> <span class="n">max_count</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="n">min_count</span><span class="p">:</span>
                            <span class="k">break</span>
                <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="n">min_count</span> <span class="ow">and</span> <span class="p">(</span><span class="n">max_count</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">count</span> <span class="o">&lt;=</span> <span class="n">max_count</span><span class="p">):</span>
                    <span class="n">ret</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>

        <span class="k">return</span> <span class="nb">frozenset</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_lazy_cache_data_prop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLDataPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get all individuals and values involved in this data property and put them in a Dict.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLDataProperty</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">pe</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_prop</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">opc</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="n">OWLLiteral</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

        <span class="c1"># shortcut for owlready2</span>
        <span class="kn">from</span> <span class="nn">owlapy.owl_ontology</span>  <span class="kn">import</span> <span class="n">Ontology</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="p">,</span> <span class="n">Ontology</span><span class="p">):</span>
            <span class="kn">import</span> <span class="nn">owlready2</span>
            <span class="c1"># _x =&gt; owlready2 objects</span>
            <span class="k">for</span> <span class="n">s_x</span><span class="p">,</span> <span class="n">o_x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_retrieve_triples</span><span class="p">(</span><span class="n">pe</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s_x</span><span class="p">,</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">Thing</span><span class="p">):</span>
                    <span class="n">o_literal</span> <span class="o">=</span> <span class="n">OWLLiteral</span><span class="p">(</span><span class="n">o_x</span><span class="p">)</span>
                    <span class="n">s</span> <span class="o">=</span> <span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">s_x</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span>
                    <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">opc</span><span class="p">:</span>
                        <span class="n">opc</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
                    <span class="n">opc</span><span class="p">[</span><span class="n">s</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">o_literal</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ind_set</span><span class="p">:</span>
                <span class="n">values</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">data_property_values</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">pe</span><span class="p">))</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">opc</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_data_prop</span><span class="p">[</span><span class="n">pe</span><span class="p">]</span> <span class="o">=</span> <span class="n">MappingProxyType</span><span class="p">(</span><span class="n">opc</span><span class="p">)</span>

    <span class="c1"># single dispatch is still not implemented in mypy, see https://github.com/python/mypy/issues/2904</span>
    <span class="nd">@singledispatchmethod</span>
    <span class="k">def</span> <span class="nf">_find_instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="n">ce</span><span class="p">)</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">OWLClass</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_cache_class</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cls_to_ind</span><span class="p">[</span><span class="n">c</span><span class="p">]</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectUnionOf</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">or_</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">,</span> <span class="n">ce</span><span class="o">.</span><span class="n">operands</span><span class="p">()))</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectIntersectionOf</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">and_</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">,</span> <span class="n">ce</span><span class="o">.</span><span class="n">operands</span><span class="p">()))</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectSomeValuesFrom</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">ce</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_objectsomevalues_cache</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_objectsomevalues_cache</span><span class="p">[</span><span class="n">ce</span><span class="p">]</span>

        <span class="n">p</span> <span class="o">=</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_property</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_cache</span> <span class="ow">and</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_filler</span><span class="p">()</span><span class="o">.</span><span class="n">is_owl_thing</span><span class="p">():</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_some_values_subject_index</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>

        <span class="n">filler_ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">get_filler</span><span class="p">())</span>

        <span class="n">ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_some_values</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">filler_ind</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_objectsomevalues_cache</span><span class="p">[</span><span class="n">ce</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind</span>
        <span class="k">return</span> <span class="n">ind</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectComplementOf</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_negation_default</span><span class="p">:</span>
            <span class="n">all_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ind_set</span>
            <span class="n">complement_ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">get_operand</span><span class="p">())</span>
            <span class="k">return</span> <span class="n">all_</span> <span class="o">^</span> <span class="n">complement_ind</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># TODO! XXX</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__warned</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Object Complement Of not implemented at </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ce</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__warned</span> <span class="o">|=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="nb">frozenset</span><span class="p">()</span>
            <span class="c1"># if self.complement_as_negation:</span>
            <span class="c1">#     ...</span>
            <span class="c1"># else:</span>
            <span class="c1">#     self._lazy_cache_negation</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectAllValuesFrom</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span>
            <span class="n">OWLObjectSomeValuesFrom</span><span class="p">(</span>
                <span class="nb">property</span><span class="o">=</span><span class="n">ce</span><span class="o">.</span><span class="n">get_property</span><span class="p">(),</span>
                <span class="n">filler</span><span class="o">=</span><span class="n">ce</span><span class="o">.</span><span class="n">get_filler</span><span class="p">()</span><span class="o">.</span><span class="n">get_object_complement_of</span><span class="p">()</span><span class="o">.</span><span class="n">get_nnf</span><span class="p">()</span>
            <span class="p">)</span><span class="o">.</span><span class="n">get_object_complement_of</span><span class="p">())</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectOneOf</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">return</span> <span class="nb">frozenset</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">individuals</span><span class="p">())</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectHasValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">as_some_values_from</span><span class="p">())</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectMinCardinality</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_instances_object_card_restriction</span><span class="p">(</span><span class="n">ce</span><span class="p">)</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectMaxCardinality</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="n">all_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ind_set</span>
        <span class="n">min_ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span><span class="n">OWLObjectMinCardinality</span><span class="p">(</span><span class="n">cardinality</span><span class="o">=</span><span class="n">ce</span><span class="o">.</span><span class="n">get_cardinality</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                                                               <span class="nb">property</span><span class="o">=</span><span class="n">ce</span><span class="o">.</span><span class="n">get_property</span><span class="p">(),</span>
                                                               <span class="n">filler</span><span class="o">=</span><span class="n">ce</span><span class="o">.</span><span class="n">get_filler</span><span class="p">()))</span>
        <span class="k">return</span> <span class="n">all_</span> <span class="o">^</span> <span class="n">min_ind</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectExactCardinality</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_instances_object_card_restriction</span><span class="p">(</span><span class="n">ce</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_instances_object_card_restriction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLObjectCardinalityRestriction</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ce</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_objectcardinality_cache</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_objectcardinality_cache</span><span class="p">[</span><span class="n">ce</span><span class="p">]</span>

        <span class="n">p</span> <span class="o">=</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_property</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLObjectMinCardinality</span><span class="p">):</span>
            <span class="n">min_count</span> <span class="o">=</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_cardinality</span><span class="p">()</span>
            <span class="n">max_count</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLObjectExactCardinality</span><span class="p">):</span>
            <span class="n">min_count</span> <span class="o">=</span> <span class="n">max_count</span> <span class="o">=</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_cardinality</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLObjectMaxCardinality</span><span class="p">):</span>
            <span class="n">min_count</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">max_count</span> <span class="o">=</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_cardinality</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ce</span><span class="p">,</span> <span class="n">OWLObjectCardinalityRestriction</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span>
        <span class="k">assert</span> <span class="n">min_count</span> <span class="o">&gt;=</span> <span class="mi">0</span>
        <span class="k">assert</span> <span class="n">max_count</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">max_count</span> <span class="o">&gt;=</span> <span class="mi">0</span>

        <span class="n">filler_ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">get_filler</span><span class="p">())</span>

        <span class="n">ind</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_some_values</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">filler_ind</span><span class="p">,</span> <span class="n">min_count</span><span class="o">=</span><span class="n">min_count</span><span class="p">,</span> <span class="n">max_count</span><span class="o">=</span><span class="n">max_count</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_objectcardinality_cache</span><span class="p">[</span><span class="n">ce</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind</span>
        <span class="k">return</span> <span class="n">ind</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLDataSomeValuesFrom</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">ce</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasomevalues_cache</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_datasomevalues_cache</span><span class="p">[</span><span class="n">ce</span><span class="p">]</span>

        <span class="n">pe</span> <span class="o">=</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_property</span><span class="p">()</span>
        <span class="n">filler</span> <span class="o">=</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_filler</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLDataProperty</span><span class="p">)</span>
        <span class="c1">#</span>

        <span class="n">property_cache</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_property_cache</span>

        <span class="k">if</span> <span class="n">property_cache</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_lazy_cache_data_prop</span><span class="p">(</span><span class="n">pe</span><span class="p">)</span>
            <span class="n">dps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data_prop</span><span class="p">[</span><span class="n">pe</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">subs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_some_values_subject_index</span><span class="p">(</span><span class="n">pe</span><span class="p">)</span>

        <span class="n">ind</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filler</span><span class="p">,</span> <span class="n">OWLDatatype</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">property_cache</span><span class="p">:</span>
                <span class="c1"># TODO: Currently we just assume that the values are of the given type (also done in DLLearner)</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">dps</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">ind</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">lit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">data_property_values</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">pe</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">lit</span><span class="o">.</span><span class="n">get_datatype</span><span class="p">()</span> <span class="o">==</span> <span class="n">filler</span><span class="p">:</span>
                            <span class="n">ind</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>
                            <span class="k">break</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filler</span><span class="p">,</span> <span class="n">OWLDataOneOf</span><span class="p">):</span>
            <span class="n">values</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">filler</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">property_cache</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">literals</span> <span class="ow">in</span> <span class="n">dps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">literals</span> <span class="o">&amp;</span> <span class="n">values</span><span class="p">:</span>
                        <span class="n">ind</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">lit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">data_property_values</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">pe</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">lit</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
                            <span class="n">ind</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>
                            <span class="k">break</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filler</span><span class="p">,</span> <span class="n">OWLDataComplementOf</span><span class="p">):</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span>
                <span class="n">OWLDataSomeValuesFrom</span><span class="p">(</span><span class="nb">property</span><span class="o">=</span><span class="n">pe</span><span class="p">,</span> <span class="n">filler</span><span class="o">=</span><span class="n">filler</span><span class="o">.</span><span class="n">get_data_range</span><span class="p">()))</span>
            <span class="k">if</span> <span class="n">property_cache</span><span class="p">:</span>
                <span class="n">subs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">dps</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">subs</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>

            <span class="n">ind</span> <span class="o">=</span> <span class="n">subs</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filler</span><span class="p">,</span> <span class="n">OWLDataUnionOf</span><span class="p">):</span>
            <span class="n">operands</span> <span class="o">=</span> <span class="p">[</span><span class="n">OWLDataSomeValuesFrom</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">op</span><span class="p">)</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">filler</span><span class="o">.</span><span class="n">operands</span><span class="p">()]</span>
            <span class="n">ind</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">or_</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">,</span> <span class="n">operands</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filler</span><span class="p">,</span> <span class="n">OWLDataIntersectionOf</span><span class="p">):</span>
            <span class="n">operands</span> <span class="o">=</span> <span class="p">[</span><span class="n">OWLDataSomeValuesFrom</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">op</span><span class="p">)</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">filler</span><span class="o">.</span><span class="n">operands</span><span class="p">()]</span>
            <span class="n">ind</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">operator</span><span class="o">.</span><span class="n">and_</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">,</span> <span class="n">operands</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filler</span><span class="p">,</span> <span class="n">OWLDatatypeRestriction</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">res_to_callable</span><span class="p">(</span><span class="n">res</span><span class="p">:</span> <span class="n">OWLFacetRestriction</span><span class="p">):</span>
                <span class="n">op</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">get_facet</span><span class="p">()</span><span class="o">.</span><span class="n">operator</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">get_facet_value</span><span class="p">()</span>

                <span class="k">def</span> <span class="nf">inner</span><span class="p">(</span><span class="n">lv</span><span class="p">:</span> <span class="n">OWLLiteral</span><span class="p">):</span>
                    <span class="k">return</span> <span class="n">op</span><span class="p">(</span><span class="n">lv</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

                <span class="k">return</span> <span class="n">inner</span>

            <span class="n">apply</span> <span class="o">=</span> <span class="n">FunctionType</span><span class="o">.</span><span class="fm">__call__</span>

            <span class="n">facet_restrictions</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">res_to_callable</span><span class="p">,</span> <span class="n">filler</span><span class="o">.</span><span class="n">get_facet_restrictions</span><span class="p">()))</span>

            <span class="k">def</span> <span class="nf">include</span><span class="p">(</span><span class="n">lv</span><span class="p">:</span> <span class="n">OWLLiteral</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">lv</span><span class="o">.</span><span class="n">get_datatype</span><span class="p">()</span> <span class="o">==</span> <span class="n">filler</span><span class="o">.</span><span class="n">get_datatype</span><span class="p">()</span> <span class="ow">and</span> \
                       <span class="nb">all</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">apply</span><span class="p">,</span> <span class="n">facet_restrictions</span><span class="p">,</span> <span class="n">repeat</span><span class="p">(</span><span class="n">lv</span><span class="p">)))</span>

            <span class="k">if</span> <span class="n">property_cache</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">s</span><span class="p">,</span> <span class="n">literals</span> <span class="ow">in</span> <span class="n">dps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">for</span> <span class="n">lit</span> <span class="ow">in</span> <span class="n">literals</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">include</span><span class="p">(</span><span class="n">lit</span><span class="p">):</span>
                            <span class="n">ind</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>
                            <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">lit</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">data_property_values</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">pe</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">include</span><span class="p">(</span><span class="n">lit</span><span class="p">):</span>
                            <span class="n">ind</span> <span class="o">|=</span> <span class="p">{</span><span class="n">s</span><span class="p">}</span>
                            <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

        <span class="n">r</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_datasomevalues_cache</span><span class="p">[</span><span class="n">ce</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span>
        <span class="k">return</span> <span class="n">r</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLDataAllValuesFrom</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="n">filler</span> <span class="o">=</span> <span class="n">ce</span><span class="o">.</span><span class="n">get_filler</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">filler</span><span class="p">,</span> <span class="n">OWLDataComplementOf</span><span class="p">):</span>
            <span class="n">filler</span> <span class="o">=</span> <span class="n">filler</span><span class="o">.</span><span class="n">get_data_range</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">filler</span> <span class="o">=</span> <span class="n">OWLDataComplementOf</span><span class="p">(</span><span class="n">filler</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span>
            <span class="n">OWLDataSomeValuesFrom</span><span class="p">(</span>
                <span class="nb">property</span><span class="o">=</span><span class="n">ce</span><span class="o">.</span><span class="n">get_property</span><span class="p">(),</span>
                <span class="n">filler</span><span class="o">=</span><span class="n">filler</span>
            <span class="p">)</span><span class="o">.</span><span class="n">get_object_complement_of</span><span class="p">())</span>

    <span class="nd">@_find_instances</span><span class="o">.</span><span class="n">register</span>
    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLDataHasValue</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrozenSet</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_instances</span><span class="p">(</span><span class="n">ce</span><span class="o">.</span><span class="n">as_some_values_from</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_lazy_cache_class</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span> <span class="n">OWLClass</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cls_to_ind</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="o">.</span><span class="n">instances</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cls_to_ind</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_retrieve_triples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pe</span><span class="p">:</span> <span class="n">OWLPropertyExpression</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve all subject/object pairs for the given property.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectPropertyExpression</span><span class="p">):</span>
            <span class="n">retrieval_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_object_properties</span>
            <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">ObjectProperty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">pe</span><span class="o">.</span><span class="n">get_named_property</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">retrieval_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sub_data_properties</span>
            <span class="n">p_x</span><span class="p">:</span> <span class="n">owlready2</span><span class="o">.</span><span class="n">DataProperty</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">pe</span><span class="o">.</span><span class="n">str</span><span class="p">]</span>

        <span class="n">relations</span> <span class="o">=</span> <span class="n">p_x</span><span class="o">.</span><span class="n">get_relations</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sub_properties</span><span class="p">:</span>
            <span class="c1"># Retrieve the subject/object pairs for all sub properties of pe</span>
            <span class="n">indirect_relations</span> <span class="o">=</span> <span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span>
                <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="o">.</span><span class="n">_world</span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">str</span><span class="p">]</span><span class="o">.</span><span class="n">get_relations</span><span class="p">(),</span>
                    <span class="n">retrieval_func</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">direct</span><span class="o">=</span><span class="kc">False</span><span class="p">)))</span>
            <span class="c1"># If pe is an OWLObjectInverseOf we need to swap the pairs</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pe</span><span class="p">,</span> <span class="n">OWLObjectInverseOf</span><span class="p">):</span>
                <span class="n">indirect_relations</span> <span class="o">=</span> <span class="p">((</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">indirect_relations</span><span class="p">)</span>
            <span class="n">relations</span> <span class="o">=</span> <span class="n">chain</span><span class="p">(</span><span class="n">relations</span><span class="p">,</span> <span class="n">indirect_relations</span><span class="p">)</span>
        <span class="k">yield from</span> <span class="n">relations</span></div>



<div class="viewcode-block" id="SyncReasoner">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.SyncReasoner">[docs]</a>
<span class="k">class</span> <span class="nc">SyncReasoner</span><span class="p">(</span><span class="n">OntologyReasoner</span><span class="p">):</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="s1">&#39;_cnt&#39;</span><span class="p">,</span> <span class="s1">&#39;_conv&#39;</span><span class="p">,</span> <span class="s1">&#39;_base_reasoner&#39;</span>

    <span class="n">_conv</span><span class="p">:</span> <span class="n">ToOwlready2</span>
    <span class="n">_base_reasoner</span><span class="p">:</span> <span class="n">BaseReasoner</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ontology</span><span class="p">:</span> <span class="n">Ontology</span><span class="p">,</span> <span class="n">base_reasoner</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">BaseReasoner</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">infer_property_values</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">infer_data_property_values</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">isolate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        OWL Reasoner with support for Complex Class Expression Instances + sync_reasoner.</span>

<span class="sd">        Args:</span>
<span class="sd">            ontology: The ontology that should be used by the reasoner.</span>
<span class="sd">            base_reasoner: Set to BaseReasoner.PELLET (default) or BaseReasoner.HERMIT.</span>
<span class="sd">            infer_property_values: Whether to infer property values.</span>
<span class="sd">            infer_data_property_values: Whether to infer data property values (only for PELLET).</span>
<span class="sd">            isolate: Whether to isolate the reasoner in a new world + copy of the original ontology.</span>
<span class="sd">                     Useful if you create multiple reasoner instances in the same script.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">ontology</span><span class="p">,</span> <span class="n">isolate</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">isolate</span><span class="p">:</span>
            <span class="n">new_manager</span> <span class="o">=</span> <span class="n">OntologyManager</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reference_ontology</span> <span class="o">=</span> <span class="n">new_manager</span><span class="o">.</span><span class="n">load_ontology</span><span class="p">(</span><span class="n">ontology</span><span class="o">.</span><span class="n">get_original_iri</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reference_iri</span> <span class="o">=</span> <span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;file:/isolated_ontology_</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reference_ontology</span><span class="p">)</span><span class="si">}</span><span class="s1">.owl&#39;</span><span class="p">)</span>
            <span class="n">new_manager</span><span class="o">.</span><span class="n">save_ontology</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reference_ontology</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_iri</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_cnt</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_conv</span> <span class="o">=</span> <span class="n">ToOwlready2</span><span class="p">(</span><span class="n">world</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span> <span class="o">=</span> <span class="n">base_reasoner</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sync_reasoner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="p">,</span> <span class="n">infer_property_values</span><span class="p">,</span> <span class="n">infer_data_property_values</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">infer_property_values</span> <span class="o">=</span> <span class="n">infer_property_values</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">infer_data_property_values</span> <span class="o">=</span> <span class="n">infer_data_property_values</span>

<div class="viewcode-block" id="SyncReasoner.update_isolated_ontology">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.SyncReasoner.update_isolated_ontology">[docs]</a>
    <span class="k">def</span> <span class="nf">update_isolated_ontology</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axioms_to_add</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">OWLAxiom</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                 <span class="n">axioms_to_remove</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">OWLAxiom</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isolated</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">axioms_to_add</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">axioms_to_remove</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;At least one argument should be specified in method: &quot;</span>
                                 <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">update_isolated_ontology</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_ontology</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">update_isolated_ontology</span><span class="p">(</span><span class="n">axioms_to_add</span><span class="p">,</span> <span class="n">axioms_to_remove</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reference_ontology</span><span class="o">.</span><span class="n">get_owl_ontology_manager</span><span class="p">()</span><span class="o">.</span><span class="n">save_ontology</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_iri</span><span class="p">)</span>
            <span class="n">new_manager</span> <span class="o">=</span> <span class="n">OntologyManager</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ontology</span> <span class="o">=</span> <span class="n">new_manager</span><span class="o">.</span><span class="n">load_ontology</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;file://isolated_ontology_&#39;</span>
                                                                  <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reference_ontology</span><span class="p">)</span><span class="si">}</span><span class="s1">.owl&#39;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_world</span> <span class="o">=</span> <span class="n">new_manager</span><span class="o">.</span><span class="n">_world</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sync_reasoner</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">infer_property_values</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">infer_data_property_values</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Misuse of method &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">update_isolated_ontology</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&#39;. The reasoner is not &quot;</span>
                                 <span class="sa">f</span><span class="s2">&quot;using an isolated ontology.&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="SyncReasoner.instances">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.SyncReasoner.instances">[docs]</a>
    <span class="k">def</span> <span class="nf">instances</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ce</span><span class="p">:</span> <span class="n">OWLClassExpression</span><span class="p">,</span> <span class="n">direct</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">OWLNamedIndividual</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">direct</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;direct not implemented&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="o">.</span><span class="n">get_ontology</span><span class="p">(</span><span class="s2">&quot;http://temp.classes/&quot;</span><span class="p">):</span>
            <span class="n">temp_pred</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">owlready2</span><span class="o">.</span><span class="n">ThingClass</span><span class="p">,</span> <span class="n">types</span><span class="o">.</span><span class="n">new_class</span><span class="p">(</span><span class="s2">&quot;TempCls</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cnt</span><span class="p">,</span> <span class="p">(</span><span class="n">owlready2</span><span class="o">.</span><span class="n">owl</span><span class="o">.</span><span class="n">Thing</span><span class="p">,)))</span>
            <span class="n">temp_pred</span><span class="o">.</span><span class="n">equivalent_to</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_conv</span><span class="o">.</span><span class="n">map_concept</span><span class="p">(</span><span class="n">ce</span><span class="p">)]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_base_reasoner</span> <span class="o">==</span> <span class="n">BaseReasoner</span><span class="o">.</span><span class="n">HERMIT</span><span class="p">:</span>
                <span class="n">owlready2</span><span class="o">.</span><span class="n">sync_reasoner_hermit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="o">.</span><span class="n">get_ontology</span><span class="p">(</span><span class="s2">&quot;http://temp.classes/&quot;</span><span class="p">),</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">infer_property_values</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">owlready2</span><span class="o">.</span><span class="n">sync_reasoner_pellet</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="o">.</span><span class="n">get_ontology</span><span class="p">(</span><span class="s2">&quot;http://temp.classes/&quot;</span><span class="p">),</span>
                                               <span class="bp">self</span><span class="o">.</span><span class="n">infer_property_values</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">infer_data_property_values</span><span class="p">)</span>
        <span class="n">instances</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">temp_pred</span><span class="o">.</span><span class="n">instances</span><span class="p">(</span><span class="n">world</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_world</span><span class="p">))</span>
        <span class="n">temp_pred</span><span class="o">.</span><span class="n">equivalent_to</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">owlready2</span><span class="o">.</span><span class="n">destroy_entity</span><span class="p">(</span><span class="n">temp_pred</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;AttributeError: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2"> Source: </span><span class="si">{</span><span class="vm">__file__</span><span class="si">}</span><span class="s2"> (you can ignore this)&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cnt</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">instances</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">OWLNamedIndividual</span><span class="p">(</span><span class="n">IRI</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">iri</span><span class="p">))</span></div>


<div class="viewcode-block" id="SyncReasoner.__del__">
<a class="viewcode-back" href="../../autoapi/owlapy/owl_reasoner/index.html#owlapy.owl_reasoner.SyncReasoner.__del__">[docs]</a>
    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isolated</span><span class="p">:</span>
            <span class="n">file_path</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;isolated_ontology_</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reference_ontology</span><span class="p">)</span><span class="si">}</span><span class="s2">.owl&quot;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">OSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error deleting </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>